import{r as _,_ as Ut,g as Cl,a as jl,j as g}from"./main-BWiheS66.js";const Rl="/logo2.png";/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Il=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),kr=t=>{const e=Il(t);return e.charAt(0).toUpperCase()+e.slice(1)},fo=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),Ml=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...Dl,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:fo("lucide",r),...!i&&!Ml(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>_.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=(t,e)=>{const s=_.forwardRef(({className:n,...r},i)=>_.createElement(Ll,{ref:i,iconNode:e,className:fo(`lucide-${Ol(kr(t))}`,`lucide-${t}`,n),...r}));return s.displayName=kr(t),s};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],po=Dn("loader-circle",Vl);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Nl=Dn("mail",$l);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ul=Dn("pen-line",Bl);function mo(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=mo(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function Fl(){for(var t,e,s=0,n="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=mo(t))&&(n&&(n+=" "),n+=e);return n}const Ln="-",zl=t=>{const e=ql(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Ln);return a[0]===""&&a.length!==1&&a.shift(),go(a,e)||Wl(o)},getConflictingClassGroupIds:(o,a)=>{const l=s[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},go=(t,e)=>{if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),r=n?go(t.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(Ln);return e.validators.find(({validator:o})=>o(i))?.classGroupId},Tr=/^\[(.+)\]$/,Wl=t=>{if(Tr.test(t)){const e=Tr.exec(t)[1],s=e?.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},ql=t=>{const{theme:e,classGroups:s}=t,n={nextPart:new Map,validators:[]};for(const r in s)Zs(s[r],n,r,e);return n},Zs=(t,e,s,n)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:Sr(e,r);i.classGroupId=s;return}if(typeof r=="function"){if(Kl(r)){Zs(r(n),e,s,n);return}e.validators.push({validator:r,classGroupId:s});return}Object.entries(r).forEach(([i,o])=>{Zs(o,Sr(e,i),s,n)})})},Sr=(t,e)=>{let s=t;return e.split(Ln).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},Kl=t=>t.isThemeGetter,Gl=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const r=(i,o)=>{s.set(i,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return r(i,o),o},set(i,o){s.has(i)?s.set(i,o):r(i,o)}}},Qs="!",en=":",Hl=en.length,Jl=t=>{const{prefix:e,experimentalParseClassName:s}=t;let n=r=>{const i=[];let o=0,a=0,l=0,u;for(let p=0;p<r.length;p++){let b=r[p];if(o===0&&a===0){if(b===en){i.push(r.slice(l,p)),l=p+Hl;continue}if(b==="/"){u=p;continue}}b==="["?o++:b==="]"?o--:b==="("?a++:b===")"&&a--}const c=i.length===0?r:r.substring(l),h=Yl(c),d=h!==c,f=u&&u>l?u-l:void 0;return{modifiers:i,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}};if(e){const r=e+en,i=n;n=o=>o.startsWith(r)?i(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(s){const r=n;n=i=>s({className:i,parseClassName:r})}return n},Yl=t=>t.endsWith(Qs)?t.substring(0,t.length-1):t.startsWith(Qs)?t.substring(1):t,Xl=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let i=[];return n.forEach(o=>{o[0]==="["||e[o]?(r.push(...i.sort(),o),i=[]):i.push(o)}),r.push(...i.sort()),r}},Zl=t=>({cache:Gl(t.cacheSize),parseClassName:Jl(t),sortModifiers:Xl(t),...zl(t)}),Ql=/\s+/,ec=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:i}=e,o=[],a=t.trim().split(Ql);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{isExternal:h,modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:b}=s(c);if(h){l=c+(l.length>0?" "+l:l);continue}let y=!!b,v=n(y?p.substring(0,b):p);if(!v){if(!y){l=c+(l.length>0?" "+l:l);continue}if(v=n(p),!v){l=c+(l.length>0?" "+l:l);continue}y=!1}const k=i(d).join(":"),m=f?k+Qs:k,x=m+v;if(o.includes(x))continue;o.push(x);const T=r(v,y);for(let E=0;E<T.length;++E){const j=T[E];o.push(m+j)}l=c+(l.length>0?" "+l:l)}return l};function tc(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=yo(e))&&(n&&(n+=" "),n+=s);return n}const yo=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=yo(t[n]))&&(s&&(s+=" "),s+=e);return s};function sc(t,...e){let s,n,r,i=o;function o(l){const u=e.reduce((c,h)=>h(c),t());return s=Zl(u),n=s.cache.get,r=s.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const c=ec(l,s);return r(l,c),c}return function(){return i(tc.apply(null,arguments))}}const F=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},vo=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bo=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nc=/^\d+\/\d+$/,rc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ic=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ac=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ke=t=>nc.test(t),O=t=>!!t&&!Number.isNaN(Number(t)),xe=t=>!!t&&Number.isInteger(Number(t)),Es=t=>t.endsWith("%")&&O(t.slice(0,-1)),ge=t=>rc.test(t),cc=()=>!0,uc=t=>ic.test(t)&&!oc.test(t),wo=()=>!1,hc=t=>ac.test(t),dc=t=>lc.test(t),fc=t=>!S(t)&&!P(t),pc=t=>pt(t,ko,wo),S=t=>vo.test(t),Oe=t=>pt(t,To,uc),Cs=t=>pt(t,bc,O),Pr=t=>pt(t,_o,wo),mc=t=>pt(t,xo,dc),es=t=>pt(t,So,hc),P=t=>bo.test(t),wt=t=>mt(t,To),gc=t=>mt(t,wc),Ar=t=>mt(t,_o),yc=t=>mt(t,ko),vc=t=>mt(t,xo),ts=t=>mt(t,So,!0),pt=(t,e,s)=>{const n=vo.exec(t);return n?n[1]?e(n[1]):s(n[2]):!1},mt=(t,e,s=!1)=>{const n=bo.exec(t);return n?n[1]?e(n[1]):s:!1},_o=t=>t==="position"||t==="percentage",xo=t=>t==="image"||t==="url",ko=t=>t==="length"||t==="size"||t==="bg-size",To=t=>t==="length",bc=t=>t==="number",wc=t=>t==="family-name",So=t=>t==="shadow",_c=()=>{const t=F("color"),e=F("font"),s=F("text"),n=F("font-weight"),r=F("tracking"),i=F("leading"),o=F("breakpoint"),a=F("container"),l=F("spacing"),u=F("radius"),c=F("shadow"),h=F("inset-shadow"),d=F("text-shadow"),f=F("drop-shadow"),p=F("blur"),b=F("perspective"),y=F("aspect"),v=F("ease"),k=F("animate"),m=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...x(),P,S],E=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],w=()=>[P,S,l],L=()=>[Ke,"full","auto",...w()],J=()=>[xe,"none","subgrid",P,S],fe=()=>["auto",{span:["full",xe,P,S]},xe,P,S],Re=()=>[xe,"auto",P,S],Ht=()=>["auto","min","max","fr",P,S],qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...w()],D=()=>[Ke,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],A=()=>[t,P,S],ce=()=>[...x(),Ar,Pr,{position:[P,S]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Jt=()=>["auto","cover","contain",yc,pc,{size:[P,S]}],Ps=()=>[Es,wt,Oe],Y=()=>["","none","full",u,P,S],te=()=>["",O,wt,Oe],Yt=()=>["solid","dashed","dotted","double"],_r=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[O,Es,Ar,Pr],xr=()=>["","none",p,P,S],Xt=()=>["none",O,P,S],Zt=()=>["none",O,P,S],As=()=>[O,P,S],Qt=()=>[Ke,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ge],breakpoint:[ge],color:[cc],container:[ge],"drop-shadow":[ge],ease:["in","out","in-out"],font:[fc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ge],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ge],shadow:[ge],spacing:["px",O],text:[ge],"text-shadow":[ge],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ke,S,P,y]}],container:["container"],columns:[{columns:[O,S,P,a]}],"break-after":[{"break-after":m()}],"break-before":[{"break-before":m()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[xe,"auto",P,S]}],basis:[{basis:[Ke,"full","auto",a,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[O,Ke,"auto","initial","none",S]}],grow:[{grow:["",O,P,S]}],shrink:[{shrink:["",O,P,S]}],order:[{order:[xe,"first","last","none",P,S]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:fe()}],"col-start":[{"col-start":Re()}],"col-end":[{"col-end":Re()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:fe()}],"row-start":[{"row-start":Re()}],"row-end":[{"row-end":Re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ht()}],"auto-rows":[{"auto-rows":Ht()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...qe(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...qe()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":qe()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[a,"screen",...D()]}],"min-w":[{"min-w":[a,"screen","none",...D()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",s,wt,Oe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,P,Cs]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Es,S]}],"font-family":[{font:[gc,S,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,P,S]}],"line-clamp":[{"line-clamp":[O,"none",P,Cs]}],leading:[{leading:[i,...w()]}],"list-image":[{"list-image":["none",P,S]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",P,S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Yt(),"wavy"]}],"text-decoration-thickness":[{decoration:[O,"from-font","auto",P,Oe]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[O,"auto",P,S]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",P,S]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",P,S]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:Jt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xe,P,S],radial:["",P,S],conic:[xe,P,S]},vc,mc]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:Ps()}],"gradient-via-pos":[{via:Ps()}],"gradient-to-pos":[{to:Ps()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Yt(),"hidden","none"]}],"divide-style":[{divide:[...Yt(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...Yt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[O,P,S]}],"outline-w":[{outline:["",O,wt,Oe]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",c,ts,es]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",h,ts,es]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[O,Oe]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",d,ts,es]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[O,P,S]}],"mix-blend":[{"mix-blend":[..._r(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_r()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[O]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[P,S]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[O]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:Jt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",P,S]}],filter:[{filter:["","none",P,S]}],blur:[{blur:xr()}],brightness:[{brightness:[O,P,S]}],contrast:[{contrast:[O,P,S]}],"drop-shadow":[{"drop-shadow":["","none",f,ts,es]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",O,P,S]}],"hue-rotate":[{"hue-rotate":[O,P,S]}],invert:[{invert:["",O,P,S]}],saturate:[{saturate:[O,P,S]}],sepia:[{sepia:["",O,P,S]}],"backdrop-filter":[{"backdrop-filter":["","none",P,S]}],"backdrop-blur":[{"backdrop-blur":xr()}],"backdrop-brightness":[{"backdrop-brightness":[O,P,S]}],"backdrop-contrast":[{"backdrop-contrast":[O,P,S]}],"backdrop-grayscale":[{"backdrop-grayscale":["",O,P,S]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[O,P,S]}],"backdrop-invert":[{"backdrop-invert":["",O,P,S]}],"backdrop-opacity":[{"backdrop-opacity":[O,P,S]}],"backdrop-saturate":[{"backdrop-saturate":[O,P,S]}],"backdrop-sepia":[{"backdrop-sepia":["",O,P,S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",P,S]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[O,"initial",P,S]}],ease:[{ease:["linear","initial",v,P,S]}],delay:[{delay:[O,P,S]}],animate:[{animate:["none",k,P,S]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,P,S]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:Xt()}],"rotate-x":[{"rotate-x":Xt()}],"rotate-y":[{"rotate-y":Xt()}],"rotate-z":[{"rotate-z":Xt()}],scale:[{scale:Zt()}],"scale-x":[{"scale-x":Zt()}],"scale-y":[{"scale-y":Zt()}],"scale-z":[{"scale-z":Zt()}],"scale-3d":["scale-3d"],skew:[{skew:As()}],"skew-x":[{"skew-x":As()}],"skew-y":[{"skew-y":As()}],transform:[{transform:[P,S,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qt()}],"translate-x":[{"translate-x":Qt()}],"translate-y":[{"translate-y":Qt()}],"translate-z":[{"translate-z":Qt()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",P,S]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",P,S]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[O,wt,Oe,Cs]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xc=sc(_c);function Q(...t){return xc(Fl(t))}const kc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ut(async()=>{const{default:n}=await Promise.resolve().then(()=>gt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Vn extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Tc extends Vn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Er extends Vn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cr extends Vn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tn||(tn={}));var Sc=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Pc{constructor(e,{headers:s={},customFetch:n,region:r=tn.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=kc(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Sc(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(b=>{throw new Tc(b)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new Er(h);if(!h.ok)throw new Cr(h);let f=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield h.json():f==="application/octet-stream"?p=yield h.blob():f==="text/event-stream"?p=h:f==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(r){return{data:null,error:r,response:r instanceof Cr||r instanceof Er?r.context:void 0}}})}}var q={},Ge={},He={},Je={},Ye={},Xe={},Ac=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ht=Ac();const Ec=ht.fetch,Po=ht.fetch.bind(ht),Ao=ht.Headers,Cc=ht.Request,jc=ht.Response,gt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ao,Request:Cc,Response:jc,default:Po,fetch:Ec},Symbol.toStringTag,{value:"Module"})),Rc=Cl(gt);var ss={},jr;function Eo(){if(jr)return ss;jr=1,Object.defineProperty(ss,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ss.default=t,ss}var Rr;function Co(){if(Rr)return Xe;Rr=1;var t=Xe&&Xe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xe,"__esModule",{value:!0});const e=t(Rc),s=t(Eo());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d;let f=null,p=null,b=null,y=u.status,v=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=T:p=JSON.parse(T))}const m=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&x&&x.length>1&&(b=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,b=null,y=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const m=await u.text();try{f=JSON.parse(m),Array.isArray(f)&&u.status===404&&(p=[],f=null,y=200,v="OK")}catch{u.status===404&&m===""?(y=204,v="No Content"):f={message:m}}if(f&&this.isMaybeSingle&&(!((d=f?.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,y=200,v="OK"),f&&this.shouldThrowOnError)throw new s.default(f)}return{error:f,data:p,count:b,status:y,statusText:v}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Xe.default=n,Xe}var Or;function jo(){if(Or)return Ye;Or=1;var t=Ye&&Ye.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ye,"__esModule",{value:!0});const e=t(Co());class s extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ye.default=s,Ye}var Ir;function $n(){if(Ir)return Je;Ir=1;var t=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Je,"__esModule",{value:!0});const e=t(jo());class s extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return Je.default=s,Je}var Mr;function Ro(){if(Mr)return He;Mr=1;var t=He&&He.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(He,"__esModule",{value:!0});const e=t($n());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const h=r.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return He.default=s,He}var _t={},xt={},Dr;function Oc(){return Dr||(Dr=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.version=void 0,xt.version="0.0.0-automated"),xt}var Lr;function Ic(){if(Lr)return _t;Lr=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.DEFAULT_HEADERS=void 0;const t=Oc();return _t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},_t}var Vr;function Mc(){if(Vr)return Ge;Vr=1;var t=Ge&&Ge.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ge,"__esModule",{value:!0});const e=t(Ro()),s=t($n()),n=Ic();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let f;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{d.searchParams.append(b,y)})):(h="POST",f=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new s.default({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return Ge.default=r,Ge}var $r;function Dc(){if($r)return q;$r=1;var t=q&&q.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(q,"__esModule",{value:!0}),q.PostgrestError=q.PostgrestBuilder=q.PostgrestTransformBuilder=q.PostgrestFilterBuilder=q.PostgrestQueryBuilder=q.PostgrestClient=void 0;const e=t(Mc());q.PostgrestClient=e.default;const s=t(Ro());q.PostgrestQueryBuilder=s.default;const n=t($n());q.PostgrestFilterBuilder=n.default;const r=t(jo());q.PostgrestTransformBuilder=r.default;const i=t(Co());q.PostgrestBuilder=i.default;const o=t(Eo());return q.PostgrestError=o.default,q.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},q}var Lc=Dc();const Vc=jl(Lc),{PostgrestClient:$c,PostgrestQueryBuilder:vg,PostgrestFilterBuilder:bg,PostgrestTransformBuilder:wg,PostgrestBuilder:_g,PostgrestError:xg}=Vc;class Nc{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const r=this.dynamicRequire("undici");if(r&&r.WebSocket)return{type:"native",constructor:r.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const r=this.dynamicRequire("ws");if(r)return{type:"ws",constructor:(s=r.WebSocket)!==null&&s!==void 0?s:r};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bc="2.15.0",Uc=`realtime-js/${Bc}`,Fc="1.0.0",sn=1e4,zc=1e3,Wc=100;var Pt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pt||(Pt={}));var z;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(z||(z={}));var ae;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ae||(ae={}));var nn;(function(t){t.websocket="websocket"})(nn||(nn={}));var $e;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($e||($e={}));class qc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Oo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(M||(M={}));const Nr=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Kc(o,t,e,r),i),{})},Kc=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r?.type,o=s[t];return i&&!n.includes(i)?Io(i,o):rn(o)},Io=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Yc(e,s)}switch(t){case M.bool:return Gc(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return Hc(e);case M.json:case M.jsonb:return Jc(e);case M.timestamp:return Xc(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return rn(e);default:return rn(e)}},rn=t=>t,Gc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Hc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Yc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Io(e,a))}return t},Xc=t=>typeof t=="string"?t.replace(" ","T"):t,Mo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class js{constructor(e,s,n={},r=sn){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Br;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Br||(Br={}));class At{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=At.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=At.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=At.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),p=c.filter(y=>f.indexOf(y.presence_ref)<0),b=h.filter(y=>d.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ur;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ur||(Ur={}));var Et;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Et||(Et={}));var ve;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ve||(ve={}));class Nn{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new js(this,ae.join,this.params,this.timeout),this.rejoinTimer=new Oo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=z.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ae.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new At(this),this.broadcastEndpointURL=Mo(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==z.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[Et.PRESENCE]&&this.bindings[Et.PRESENCE].length>0,c={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(d=>e?.(ve.CHANNEL_ERROR,d)),this._onClose(()=>e?.(ve.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e?.(ve.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,b=(f=p?.length)!==null&&f!==void 0?f:0,y=[];for(let v=0;v<b;v++){const k=p[v],{filter:{event:m,schema:x,table:T,filter:E}}=k,j=d&&d[v];if(j&&j.event===m&&j.schema===x&&j.table===T&&j.filter===E)y.push(Object.assign(Object.assign({},k),{id:j.id}));else{this.unsubscribe(),this.state=z.errored,e?.(ve.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ve.SUBSCRIBED);return}}).receive("error",d=>{this.state=z.errored,e?.(ve.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(ve.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===z.joined&&e===Et.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=z.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ae.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new js(this,ae.leave,{},e),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=z.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new js(this,e,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wc){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ae;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var p,b,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(b=f.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,b,y,v,k,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,T=(p=f.filter)===null||p===void 0?void 0:p.event;return x&&((b=s.ids)===null||b===void 0?void 0:b.includes(x))&&(T==="*"||T?.toLocaleLowerCase()===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(k=(v=f?.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return x==="*"||x===((m=s?.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:b,table:y,commit_timestamp:v,type:k,errors:m}=p;d=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:v,eventType:k,new:{},old:{},errors:m}),this._getPayloadRecords(p))}f.callback(d,n)})}_isClosed(){return this.state===z.closed}_isJoined(){return this.state===z.joined}_isJoining(){return this.state===z.joining}_isLeaving(){return this.state===z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nn.isEqual(r.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ae.close,{},e)}_onError(e){this._on(ae.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Nr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Nr(e.columns,e.old_record)),s}}const Fr=()=>{},ns={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zc=[1e3,2e3,5e3,1e4],Qc=1e4,eu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tu{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sn,this.transport=null,this.heartbeatIntervalMs=ns.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fr,this.ref=0,this.reconnectTimer=null,this.logger=Fr,this.conn=null,this.sendBuffer=[],this.serializer=new qc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>Ut(async()=>{const{default:a}=await Promise.resolve().then(()=>gt);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=s?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${nn.websocket}`,this.httpEndpoint=Mo(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nc.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fc}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pt.connecting:return $e.Connecting;case Pt.open:return $e.Open;case Pt.closing:return $e.Closing;default:return $e.Closed}}isConnected(){return this.connectionState()===$e.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new Nn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zc,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ns.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ae.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([eu],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:Uc};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(ae.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Oo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ns.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,r,i,o,a,l,u;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:sn,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:ns.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e?.reconnectAfterMs)!==null&&a!==void 0?a:c=>Zc[c-1]||Qc,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(c,h)=>h(JSON.stringify(c)),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Bn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class su extends Bn{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class on extends Bn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var nu=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Do=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ut(async()=>{const{default:n}=await Promise.resolve().then(()=>gt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},ru=()=>nu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ut(()=>Promise.resolve().then(()=>gt),void 0)).Response:Response}),an=t=>{if(Array.isArray(t))return t.map(s=>an(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=an(n)}),e},iu=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var We=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ou=(t,e,s)=>We(void 0,void 0,void 0,function*(){const n=yield ru();t instanceof n&&!s?.noResolveJson?t.json().then(r=>{const i=t.status||500,o=r?.statusCode||i+"";e(new su(Rs(r),i,o))}).catch(r=>{e(new on(Rs(r),r))}):e(new on(Rs(t),t))}),au=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!n?r:(iu(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(n)):r.body=n,Object.assign(Object.assign({},r),s))};function Ft(t,e,s,n,r,i){return We(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,au(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ou(l,a,n))})})}function ms(t,e,s,n){return We(this,void 0,void 0,function*(){return Ft(t,"GET",e,s,n)})}function be(t,e,s,n,r){return We(this,void 0,void 0,function*(){return Ft(t,"POST",e,n,r,s)})}function ln(t,e,s,n,r){return We(this,void 0,void 0,function*(){return Ft(t,"PUT",e,n,r,s)})}function lu(t,e,s,n){return We(this,void 0,void 0,function*(){return Ft(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Lo(t,e,s,n,r){return We(this,void 0,void 0,function*(){return Ft(t,"DELETE",e,n,r,s)})}var Z=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const cu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uu{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Do(r)}uploadOrUpdate(e,s,n,r){return Z(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zr),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield(e=="PUT"?ln:be)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Z(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:zr.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield ln(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(K(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s?.upsert&&(r["x-upsert"]="true");const i=yield be(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Bn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}update(e,s,n){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Z(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}copy(e,s,n){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return Z(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield be(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Z(this,void 0,void 0,function*(){try{const r=yield be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}download(e,s){return Z(this,void 0,void 0,function*(){const r=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ms(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}})}info(e){return Z(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield ms(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:an(n),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}exists(e){return Z(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield lu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(K(n)&&n instanceof on){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}list(e,s,n){return Z(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},cu),s),{prefix:e||""});return{data:yield be(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const hu="2.10.4",du={"X-Client-Info":`storage-js/${hu}`};var Ze=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class fu{constructor(e,s={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},du),s),this.fetch=Do(n)}listBuckets(){return Ze(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}getBucket(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ze(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Ze(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}}class pu extends fu{constructor(e,s={},n,r){super(e,s,n,r)}from(e){return new uu(this.url,this.headers,e,this.fetch)}}const mu="2.54.0";let Tt="";typeof Deno<"u"?Tt="deno":typeof document<"u"?Tt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tt="react-native":Tt="node";const gu={"X-Client-Info":`supabase-js-${Tt}/${mu}`},yu={headers:gu},vu={schema:"public"},bu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wu={};var _u=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const xu=t=>{let e;return t?e=t:typeof fetch>"u"?e=Po:e=fetch,(...s)=>e(...s)},ku=()=>typeof Headers>"u"?Ao:Headers,Tu=(t,e,s)=>{const n=xu(s),r=ku();return(i,o)=>_u(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Su=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function Pu(t){return t.endsWith("/")?t:t+"/"}function Au(t,e){var s,n;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Su(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Vo="2.71.1",nt=30*1e3,cn=3,Os=cn*nt,Eu="http://localhost:9999",Cu="supabase.auth.token",ju={"X-Client-Info":`gotrue-js/${Vo}`},un="X-Supabase-Api-Version",$o={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ru=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ou=600*1e3;class Un extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Iu extends Un{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Mu(t){return R(t)&&t.name==="AuthApiError"}class No extends Un{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ce extends Un{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Te extends Ce{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Du(t){return R(t)&&t.name==="AuthSessionMissingError"}class rs extends Ce{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class is extends Ce{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class os extends Ce{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lu(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wr extends Ce{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hn extends Ce{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Is(t){return R(t)&&t.name==="AuthRetryableFetchError"}class qr extends Ce{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class dn extends Ce{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kr=` 	
\r=`.split(""),Vu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kr.length;e+=1)t[Kr[e].charCodeAt(0)]=-2;for(let e=0;e<gs.length;e+=1)t[gs[e].charCodeAt(0)]=e;return t})();function Gr(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(gs[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(gs[n]),e.queuedBits-=6}}function Bo(t,e,s){const n=Vu[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hr(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{Bu(o,n,s)};for(let o=0;o<t.length;o+=1)Bo(t.charCodeAt(o),r,i);return e.join("")}function $u(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Nu(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}$u(n,e)}}function Bu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Uu(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Bo(t.charCodeAt(r),s,n);return new Uint8Array(e)}function Fu(t){const e=[];return Nu(t,s=>e.push(s)),new Uint8Array(e)}function zu(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>Gr(r,s,n)),Gr(null,s,n),e.join("")}function Wu(t){return Math.round(Date.now()/1e3)+t}function qu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ie=()=>typeof window<"u"&&typeof document<"u",Ie={tested:!1,writable:!1},Uo=()=>{if(!ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ie.tested)return Ie.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ie.tested=!0,Ie.writable=!0}catch{Ie.tested=!0,Ie.writable=!1}return Ie.writable};function Ku(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const Fo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ut(async()=>{const{default:n}=await Promise.resolve().then(()=>gt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Gu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rt=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Me=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ke=async(t,e)=>{await t.removeItem(e)};class xs{constructor(){this.promise=new xs.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}xs.promiseConstructor=Promise;function Ms(t){const e=t.split(".");if(e.length!==3)throw new dn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ru.test(e[n]))throw new dn("JWT not in base64url format");return{header:JSON.parse(Hr(e[0])),payload:JSON.parse(Hr(e[1])),signature:Uu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Hu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ju(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Yu(t){return("0"+t.toString(16)).substr(-2)}function Xu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Yu).join("")}async function Zu(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Qu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Zu(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qe(t,e,s=!1){const n=Xu();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await rt(t,`${e}-code-verifier`,r);const i=await Qu(n);return[i,n===i?"plain":"s256"]}const eh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function th(t){const e=t.headers.get(un);if(!e||!e.match(eh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function et(t){if(!rh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ds(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jr(t){return JSON.parse(JSON.stringify(t))}var ih=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Le=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oh=[502,503,504];async function Yr(t){var e;if(!Gu(t))throw new hn(Le(t),0);if(oh.includes(t.status))throw new hn(Le(t),t.status);let s;try{s=await t.json()}catch(i){throw new No(Le(i),i)}let n;const r=th(t);if(r&&r.getTime()>=$o["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new qr(Le(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Te}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qr(Le(s),t.status,s.weak_password.reasons);throw new Iu(Le(s),t.status||500,n)}const ah=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function I(t,e,s,n){var r;const i=Object.assign({},n?.headers);i[un]||(i[un]=$o["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await lh(t,e,s+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function lh(t,e,s,n,r,i){const o=ah(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new hn(Le(l),0)}if(a.ok||await Yr(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await Yr(l)}}function ye(t){var e;let s=null;dh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Wu(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Xr(t){const e=ye(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ch(t){return{data:t,error:null}}function uh(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=ih(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function hh(t){return t}function dh(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ls=["global","local","others"];var fh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class ph{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Fo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Ls[0]){if(Ls.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ls.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Pe})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=fh(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:uh,redirectTo:s?.redirectTo})}catch(s){if(R(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pe})}catch(s){if(R(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:hh});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){et(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pe})}catch(s){if(R(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){et(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Pe})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){et(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Pe})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){et(e.userId);try{const{data:s,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(R(s))return{data:null,error:s};throw s}}async _deleteFactor(e){et(e.userId),et(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(R(s))return{data:null,error:s};throw s}}}function Zr(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function mh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tt={debug:!!(globalThis&&Uo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gh extends zo{}async function yh(t,e,s){tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),tt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}mh();const vh={url:Eu,storageKey:Cu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ju,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qr(t,e,s){return await s()}const st={};class Mt{constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mt.nextInstanceID,Mt.nextInstanceID+=1,this.instanceID>0&&ie()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},vh),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new ph({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Fo(r.fetch),this.lock=r.lock||Qr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ie()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=yh:this.lock=Qr,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Uo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zr(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Zr(this.memoryStorage)),ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=st[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){st[this.storageKey]=Object.assign(Object.assign({},st[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=st[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){st[this.storageKey]=Object.assign(Object.assign({},st[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Ku(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),ie()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Lu(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return R(s)?{error:s}:{error:new No("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:ye}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Qe(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:c,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},xform:ye})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},channel:(r=d?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ye})}else throw new is("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Xr})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Xr})}else throw new is("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,n,r,i,o,a,l,u,c,h,d,f;let p,b;if("message"in e)p=e.message,b=e.signature;else{const{chain:y,wallet:v,statement:k,options:m}=e;let x;if(ie())if(typeof v=="object")x=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!m?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const T=new URL((s=m?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),k?{statement:k}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),b=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${T.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(r=(n=m?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=m?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=E}}try{const{data:y,error:v}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:zu(b)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ye});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new rs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(R(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const s=await Me(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ye});if(await ke(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ye}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Qe(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new is("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:ye});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qe(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ch})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Te;const{error:r}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await I(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await I(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new is("You must provide either an email or phone number and a type")}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Me(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Os:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Me(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ds()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pe}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Pe})})}catch(s){if(R(s))return Du(s)&&(await this._removeSession(),await ke(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Te;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Qe(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pe});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Te;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Ms(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(R(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Te;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!ie())throw new os("No browser detected.");if(e.error||e.error_description||e.error_code)throw new os(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Wr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new os("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wr("No code detected.");const{data:k,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new os("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=nt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:b,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Me(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Mu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ke(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=qu(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Qe(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(R(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return ie()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(R(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(R(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Ju(async r=>(r>0&&await Hu(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ye})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Is(i)&&Date.now()+o-n<nt})}catch(n){if(this._debug(s,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),ie()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Me(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Me(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await rt(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:Ds()}else if(r&&!r.user&&!r.user){const o=await Me(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await ke(this.storage,this.storageKey+"-user"),await rt(this.storage,this.storageKey,r)):r.user=Ds()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Os;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Os}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Is(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new xs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Te;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),R(i)){const o={session:null,error:i};return Is(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await rt(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=Jr(r);await rt(this.storage,this.storageKey,i)}else{const r=Jr(s);await rt(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await ke(this.storage,this.storageKey),await ke(this.storage,this.storageKey+"-code-verifier"),await ke(this.storage,this.storageKey+"-user"),this.userStorage&&await ke(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ie()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/nt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${nt}ms, refresh threshold is ${cn} ticks`),r<=cn&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ie()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qe(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(R(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(R(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(R(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(R(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=e?.factors||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ms(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Ou>r)return n;const{data:i,error:o}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Ms(n);s?.allowExpired||sh(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const c=nh(r.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Fu(`${a}.${l}`)))throw new dn("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}Mt.nextInstanceID=0;const bh=Mt;class wh extends bh{constructor(e){super(e)}}var _h=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class xh{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Pu(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:vu,realtime:wu,auth:Object.assign(Object.assign({},bu),{storageKey:u}),global:yu},h=Au(n??{},c);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Tu(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new $c(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new pu(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Pc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return _h(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new tu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kh=(t,e,s)=>new xh(t,e,s);function Th(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Th()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sh=void 0,Ph=void 0;throw new Error("Missing Supabase environment variables. Please add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to your .env file.");const ei=kh(Sh,Ph);async function Ah(t){try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return{success:!1,error:"Please enter a valid email address"};const{data:s,error:n}=await ei.from("waitlist").select("id, email").eq("email",t.toLowerCase()).limit(1);if(n)return console.error("Error checking existing email:",n),{success:!1,error:"Something went wrong. Please try again."};if(s&&s.length>0)return{success:!1,error:"You're already on the waitlist!"};const{data:r,error:i}=await ei.from("waitlist").insert([{email:t.toLowerCase()}]).select().single();return i?(console.error("Error adding email to waitlist:",i),{success:!1,error:"Something went wrong. Please try again."}):{success:!0,data:r}}catch(e){return console.error("Unexpected error in addToWaitlist:",e),{success:!1,error:"Something went wrong. Please try again."}}}function Eh({className:t,top:e}){const s=e?{top:typeof e=="number"?`${e}px`:e}:{};return g.jsxs("div",{className:Q("relative *:left-1/2 *:-translate-x-1/2 *:bottom-0 *:before:absolute *:before:bottom-0 *:before:content-[''] *:before:left-1/2 *:before:-translate-x-1/2",t),style:s,children:[g.jsx("div",{className:"absolute size-25 -top-25 rounded-full bg-orange-600 blur-3xl fade-in animate-blink"}),g.jsx("div",{className:"absolute w-5 h-11.5 rounded-[100%_100%_50%_50%] bg-blue-500/70 shadow-[0_-40px_30px_0_#dc8a0c,0_40px_50px_0_#dc8a0c,inset_3px_0_2px_0_rgba(0,133,255,0.6),inset_-3px_0_2px_0_rgba(0,133,255,0.6)] before:w-[70%] before:h-[60%] before:rounded-full before:bg-black/35 fade-in"}),g.jsx("div",{className:"origin-bottom absolute w-5 h-20 rounded-[100%_100%_30%_30%] bg-[linear-gradient(white_80%,transparent)] animate-[var(--animate-move-flame),var(--animate-enlarge-flame)] before:w-full before:h-full before:rounded-[100%_100%_30%_30%] before:shadow-[0_0_15px_0_rgba(247,93,0,0.4),0_-6px_4px_0_rgba(247,128,0,0.7)]"})]})}const Wo=_.createContext({});function qo(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fn=typeof window<"u",Ko=Fn?_.useLayoutEffect:_.useEffect,zn=_.createContext(null);function Wn(t,e){t.indexOf(e)===-1&&t.push(e)}function qn(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const we=(t,e,s)=>s>e?e:s<t?t:s;let Kn=()=>{};const _e={},Go=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ho(t){return typeof t=="object"&&t!==null}const Jo=t=>/^0[^.\s]+$/u.test(t);function Gn(t){let e;return()=>(e===void 0&&(e=t()),e)}const re=t=>t,Ch=(t,e)=>s=>e(t(s)),zt=(...t)=>t.reduce(Ch),Dt=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n};class Hn{constructor(){this.subscriptions=[]}add(e){return Wn(this.subscriptions,e),()=>qn(this.subscriptions,e)}notify(e,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,n);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ue=t=>t*1e3,he=t=>t/1e3;function Yo(t,e){return e?t*(1e3/e):0}const Xo=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,jh=1e-7,Rh=12;function Oh(t,e,s,n,r){let i,o,a=0;do o=e+(s-e)/2,i=Xo(o,n,r)-t,i>0?s=o:e=o;while(Math.abs(i)>jh&&++a<Rh);return o}function Wt(t,e,s,n){if(t===e&&s===n)return re;const r=i=>Oh(i,0,1,t,s);return i=>i===0||i===1?i:Xo(r(i),e,n)}const Zo=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qo=t=>e=>1-t(1-e),ea=Wt(.33,1.53,.69,.99),Jn=Qo(ea),ta=Zo(Jn),sa=t=>(t*=2)<1?.5*Jn(t):.5*(2-Math.pow(2,-10*(t-1))),Yn=t=>1-Math.sin(Math.acos(t)),na=Qo(Yn),ra=Zo(Yn),Ih=Wt(.42,0,1,1),Mh=Wt(0,0,.58,1),ia=Wt(.42,0,.58,1),Dh=t=>Array.isArray(t)&&typeof t[0]!="number",oa=t=>Array.isArray(t)&&typeof t[0]=="number",Lh={linear:re,easeIn:Ih,easeInOut:ia,easeOut:Mh,circIn:Yn,circInOut:ra,circOut:na,backIn:Jn,backInOut:ta,backOut:ea,anticipate:sa},Vh=t=>typeof t=="string",ti=t=>{if(oa(t)){Kn(t.length===4);const[e,s,n,r]=t;return Wt(e,s,n,r)}else if(Vh(t))return Lh[t];return t},as=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $h(t,e){let s=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,h=!1,d=!1)=>{const p=d&&r?s:n;return h&&o.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[s,n]=[n,s],s.forEach(l),s.clear(),r=!1,i&&(i=!1,u.process(c))}};return u}const Nh=40;function aa(t,e){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=as.reduce((m,x)=>(m[x]=$h(i),m),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=o,b=()=>{const m=_e.useManualTiming?r.timestamp:performance.now();s=!1,_e.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(m-r.timestamp,Nh),1)),r.timestamp=m,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),d.process(r),f.process(r),p.process(r),r.isProcessing=!1,s&&e&&(n=!1,t(b))},y=()=>{s=!0,n=!0,r.isProcessing||t(b)};return{schedule:as.reduce((m,x)=>{const T=o[x];return m[x]=(E,j=!1,w=!1)=>(s||y(),T.schedule(E,j,w)),m},{}),cancel:m=>{for(let x=0;x<as.length;x++)o[as[x]].cancel(m)},state:r,steps:o}}const{schedule:V,cancel:Ae,state:G,steps:Vs}=aa(typeof requestAnimationFrame<"u"?requestAnimationFrame:re,!0);let hs;function Bh(){hs=void 0}const ee={now:()=>(hs===void 0&&ee.set(G.isProcessing||_e.useManualTiming?G.timestamp:performance.now()),hs),set:t=>{hs=t,queueMicrotask(Bh)}},la=t=>e=>typeof e=="string"&&e.startsWith(t),Xn=la("--"),Uh=la("var(--"),Zn=t=>Uh(t)?Fh.test(t.split("/*")[0].trim()):!1,Fh=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lt={...yt,transform:t=>we(0,1,t)},ls={...yt,default:1},Ct=t=>Math.round(t*1e5)/1e5,Qn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zh(t){return t==null}const Wh=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,er=(t,e)=>s=>!!(typeof s=="string"&&Wh.test(s)&&s.startsWith(t)||e&&!zh(s)&&Object.prototype.hasOwnProperty.call(s,e)),ca=(t,e,s)=>n=>{if(typeof n!="string")return n;const[r,i,o,a]=n.match(Qn);return{[t]:parseFloat(r),[e]:parseFloat(i),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qh=t=>we(0,255,t),$s={...yt,transform:t=>Math.round(qh(t))},Ne={test:er("rgb","red"),parse:ca("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+$s.transform(t)+", "+$s.transform(e)+", "+$s.transform(s)+", "+Ct(Lt.transform(n))+")"};function Kh(t){let e="",s="",n="",r="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),e+=e,s+=s,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const fn={test:er("#"),parse:Kh,transform:Ne.transform},qt=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Se=qt("deg"),de=qt("%"),C=qt("px"),Gh=qt("vh"),Hh=qt("vw"),si={...de,parse:t=>de.parse(t)/100,transform:t=>de.transform(t*100)},it={test:er("hsl","hue"),parse:ca("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+de.transform(Ct(e))+", "+de.transform(Ct(s))+", "+Ct(Lt.transform(n))+")"},U={test:t=>Ne.test(t)||fn.test(t)||it.test(t),parse:t=>Ne.test(t)?Ne.parse(t):it.test(t)?it.parse(t):fn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ne.transform(t):it.transform(t),getAnimatableNone:t=>{const e=U.parse(t);return e.alpha=0,U.transform(e)}},Jh=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yh(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qn)?.length||0)+(t.match(Jh)?.length||0)>0}const ua="number",ha="color",Xh="var",Zh="var(",ni="${}",Qh=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vt(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(Qh,l=>(U.test(l)?(n.color.push(i),r.push(ha),s.push(U.parse(l))):l.startsWith(Zh)?(n.var.push(i),r.push(Xh),s.push(l)):(n.number.push(i),r.push(ua),s.push(parseFloat(l))),++i,ni)).split(ni);return{values:s,split:a,indexes:n,types:r}}function da(t){return Vt(t).values}function fa(t){const{split:e,types:s}=Vt(t),n=e.length;return r=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],r[o]!==void 0){const a=s[o];a===ua?i+=Ct(r[o]):a===ha?i+=U.transform(r[o]):i+=r[o]}return i}}const ed=t=>typeof t=="number"?0:U.test(t)?U.getAnimatableNone(t):t;function td(t){const e=da(t);return fa(t)(e.map(ed))}const Ee={test:Yh,parse:da,createTransformer:fa,getAnimatableNone:td};function Ns(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function sd({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let r=0,i=0,o=0;if(!e)r=i=o=s;else{const a=s<.5?s*(1+e):s+e-s*e,l=2*s-a;r=Ns(l,a,t+1/3),i=Ns(l,a,t),o=Ns(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function ys(t,e){return s=>s>0?e:t}const $=(t,e,s)=>t+(e-t)*s,Bs=(t,e,s)=>{const n=t*t,r=s*(e*e-n)+n;return r<0?0:Math.sqrt(r)},nd=[fn,Ne,it],rd=t=>nd.find(e=>e.test(t));function ri(t){const e=rd(t);if(!e)return!1;let s=e.parse(t);return e===it&&(s=sd(s)),s}const ii=(t,e)=>{const s=ri(t),n=ri(e);if(!s||!n)return ys(t,e);const r={...s};return i=>(r.red=Bs(s.red,n.red,i),r.green=Bs(s.green,n.green,i),r.blue=Bs(s.blue,n.blue,i),r.alpha=$(s.alpha,n.alpha,i),Ne.transform(r))},pn=new Set(["none","hidden"]);function id(t,e){return pn.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function od(t,e){return s=>$(t,e,s)}function tr(t){return typeof t=="number"?od:typeof t=="string"?Zn(t)?ys:U.test(t)?ii:cd:Array.isArray(t)?pa:typeof t=="object"?U.test(t)?ii:ad:ys}function pa(t,e){const s=[...t],n=s.length,r=t.map((i,o)=>tr(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)s[o]=r[o](i);return s}}function ad(t,e){const s={...t,...e},n={};for(const r in s)t[r]!==void 0&&e[r]!==void 0&&(n[r]=tr(t[r])(t[r],e[r]));return r=>{for(const i in n)s[i]=n[i](r);return s}}function ld(t,e){const s=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][n[i]],a=t.values[o]??0;s[r]=a,n[i]++}return s}const cd=(t,e)=>{const s=Ee.createTransformer(e),n=Vt(t),r=Vt(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?pn.has(t)&&!r.values.length||pn.has(e)&&!n.values.length?id(t,e):zt(pa(ld(n,r),r.values),s):ys(t,e)};function ma(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?$(t,e,s):tr(t)(t,e)}const ud=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>V.update(e,s),stop:()=>Ae(e),now:()=>G.isProcessing?G.timestamp:ee.now()}},ga=(t,e,s=10)=>{let n="";const r=Math.max(Math.round(e/s),2);for(let i=0;i<r;i++)n+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},vs=2e4;function sr(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<vs;)e+=s,n=t.next(e);return e>=vs?1/0:e}function hd(t,e=100,s){const n=s({...t,keyframes:[0,e]}),r=Math.min(sr(n),vs);return{type:"keyframes",ease:i=>n.next(r*i).value/e,duration:he(r)}}const dd=5;function ya(t,e,s){const n=Math.max(e-dd,0);return Yo(s-t(n),e-n)}const N={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Us=.001;function fd({duration:t=N.duration,bounce:e=N.bounce,velocity:s=N.velocity,mass:n=N.mass}){let r,i,o=1-e;o=we(N.minDamping,N.maxDamping,o),t=we(N.minDuration,N.maxDuration,he(t)),o<1?(r=u=>{const c=u*o,h=c*t,d=c-s,f=mn(u,o),p=Math.exp(-h);return Us-d/f*p},i=u=>{const h=u*o*t,d=h*s+s,f=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),b=mn(Math.pow(u,2),o);return(-r(u)+Us>0?-1:1)*((d-f)*p)/b}):(r=u=>{const c=Math.exp(-u*t),h=(u-s)*t+1;return-Us+c*h},i=u=>{const c=Math.exp(-u*t),h=(s-u)*(t*t);return c*h});const a=5/t,l=md(r,i,a);if(t=ue(t),isNaN(l))return{stiffness:N.stiffness,damping:N.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const pd=12;function md(t,e,s){let n=s;for(let r=1;r<pd;r++)n=n-t(n)/e(n);return n}function mn(t,e){return t*Math.sqrt(1-e*e)}const gd=["duration","bounce"],yd=["stiffness","damping","mass"];function oi(t,e){return e.some(s=>t[s]!==void 0)}function vd(t){let e={velocity:N.velocity,stiffness:N.stiffness,damping:N.damping,mass:N.mass,isResolvedFromDuration:!1,...t};if(!oi(t,yd)&&oi(t,gd))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,i=2*we(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:N.mass,stiffness:r,damping:i}}else{const s=fd(t);e={...e,...s,mass:N.mass},e.isResolvedFromDuration=!0}return e}function bs(t=N.visualDuration,e=N.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:r}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=vd({...s,velocity:-he(s.velocity||0)}),p=d||0,b=u/(2*Math.sqrt(l*c)),y=o-i,v=he(Math.sqrt(l/c)),k=Math.abs(y)<5;n||(n=k?N.restSpeed.granular:N.restSpeed.default),r||(r=k?N.restDelta.granular:N.restDelta.default);let m;if(b<1){const T=mn(v,b);m=E=>{const j=Math.exp(-b*v*E);return o-j*((p+b*v*y)/T*Math.sin(T*E)+y*Math.cos(T*E))}}else if(b===1)m=T=>o-Math.exp(-v*T)*(y+(p+v*y)*T);else{const T=v*Math.sqrt(b*b-1);m=E=>{const j=Math.exp(-b*v*E),w=Math.min(T*E,300);return o-j*((p+b*v*y)*Math.sinh(w)+T*y*Math.cosh(w))/T}}const x={calculatedDuration:f&&h||null,next:T=>{const E=m(T);if(f)a.done=T>=h;else{let j=T===0?p:0;b<1&&(j=T===0?ue(p):ya(m,T,E));const w=Math.abs(j)<=n,L=Math.abs(o-E)<=r;a.done=w&&L}return a.value=a.done?o:E,a},toString:()=>{const T=Math.min(sr(x),vs),E=ga(j=>x.next(T*j).value,T,30);return T+"ms "+E},toTransition:()=>{}};return x}bs.applyToOptions=t=>{const e=hd(t,100,bs);return t.ease=e.ease,t.duration=ue(e.duration),t.type="keyframes",t};function gn({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=w=>a!==void 0&&w<a||l!==void 0&&w>l,p=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let b=s*e;const y=h+b,v=o===void 0?y:o(y);v!==y&&(b=v-h);const k=w=>-b*Math.exp(-w/n),m=w=>v+k(w),x=w=>{const L=k(w),J=m(w);d.done=Math.abs(L)<=u,d.value=d.done?v:J};let T,E;const j=w=>{f(d.value)&&(T=w,E=bs({keyframes:[d.value,p(d.value)],velocity:ya(m,w,d.value),damping:r,stiffness:i,restDelta:u,restSpeed:c}))};return j(0),{calculatedDuration:null,next:w=>{let L=!1;return!E&&T===void 0&&(L=!0,x(w),j(w)),T!==void 0&&w>=T?E.next(w-T):(!L&&x(w),d)}}}function bd(t,e,s){const n=[],r=s||_e.mix||ma,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||re:e;a=zt(l,a)}n.push(a)}return n}function wd(t,e,{clamp:s=!0,ease:n,mixer:r}={}){const i=t.length;if(Kn(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=bd(e,n,r),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Dt(t[h],t[h+1],c);return a[h](d)};return s?c=>u(we(t[0],t[i-1],c)):u}function _d(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const r=Dt(0,e,n);t.push($(s,1,r))}}function xd(t){const e=[0];return _d(e,t.length-1),e}function kd(t,e){return t.map(s=>s*e)}function Td(t,e){return t.map(()=>e||ia).splice(0,t.length-1)}function jt({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const r=Dh(n)?n.map(ti):ti(n),i={done:!1,value:e[0]},o=kd(s&&s.length===e.length?s:xd(e),t),a=wd(o,e,{ease:Array.isArray(r)?r:Td(e,r)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const Sd=t=>t!==null;function nr(t,{repeat:e,repeatType:s="loop"},n,r=1){const i=t.filter(Sd),a=r<0||e&&s!=="loop"&&e%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const Pd={decay:gn,inertia:gn,tween:jt,keyframes:jt,spring:bs};function va(t){typeof t.type=="string"&&(t.type=Pd[t.type])}class rr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const Ad=t=>t/100;class ir extends rr{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==ee.now()&&this.tick(ee.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;va(e);const{type:s=jt,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=s||jt;l!==jt&&typeof a[0]!="number"&&(this.mixKeyframes=zt(Ad,ma(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=sr(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:d,repeatDelay:f,type:p,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?v<0:v>r;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let m=this.currentTime,x=n;if(h){const w=Math.min(this.currentTime,r)/a;let L=Math.floor(w),J=w%1;!J&&w>=1&&(J=1),J===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(d==="reverse"?(J=1-J,f&&(J-=f/a)):d==="mirror"&&(x=o)),m=we(0,1,J)*a}const T=k?{done:!1,value:c[0]}:x.next(m);i&&(T.value=i(T.value));let{done:E}=T;!k&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return j&&p!==gn&&(T.value=nr(c,this.options,y,this.speed)),b&&b(T.value),j&&this.finish(),T}then(e,s){return this.finished.then(e,s)}get duration(){return he(this.calculatedDuration)}get time(){return he(this.currentTime)}set time(e){e=ue(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ee.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=he(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ud,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ee.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Ed(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Be=t=>t*180/Math.PI,yn=t=>{const e=Be(Math.atan2(t[1],t[0]));return vn(e)},Cd={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yn,rotateZ:yn,skewX:t=>Be(Math.atan(t[1])),skewY:t=>Be(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vn=t=>(t=t%360,t<0&&(t+=360),t),ai=yn,li=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ci=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),jd={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:li,scaleY:ci,scale:t=>(li(t)+ci(t))/2,rotateX:t=>vn(Be(Math.atan2(t[6],t[5]))),rotateY:t=>vn(Be(Math.atan2(-t[2],t[0]))),rotateZ:ai,rotate:ai,skewX:t=>Be(Math.atan(t[4])),skewY:t=>Be(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bn(t){return t.includes("scale")?1:0}function wn(t,e){if(!t||t==="none")return bn(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=jd,r=s;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Cd,r=a}if(!r)return bn(e);const i=n[e],o=r[1].split(",").map(Od);return typeof i=="function"?i(o):o[i]}const Rd=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return wn(s,e)};function Od(t){return parseFloat(t.trim())}const vt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bt=new Set(vt),ui=t=>t===yt||t===C,Id=new Set(["x","y","z"]),Md=vt.filter(t=>!Id.has(t));function Dd(t){const e=[];return Md.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const Ue={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wn(e,"x"),y:(t,{transform:e})=>wn(e,"y")};Ue.translateX=Ue.x;Ue.translateY=Ue.y;const Fe=new Set;let _n=!1,xn=!1,kn=!1;function ba(){if(xn){const t=Array.from(Fe).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const r=Dd(n);r.length&&(s.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}xn=!1,_n=!1,Fe.forEach(t=>t.complete(kn)),Fe.clear()}function wa(){Fe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xn=!0)})}function Ld(){kn=!0,wa(),ba(),kn=!1}class or{constructor(e,s,n,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fe.add(this),_n||(_n=!0,V.read(wa),V.resolveKeyframes(ba))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:r}=this;if(e[0]===null){const i=r?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&s){const a=n.readValue(s,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}Ed(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fe.delete(this)}cancel(){this.state==="scheduled"&&(Fe.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vd=t=>t.startsWith("--");function $d(t,e,s){Vd(e)?t.style.setProperty(e,s):t.style[e]=s}const Nd=Gn(()=>window.ScrollTimeline!==void 0),Bd={};function Ud(t,e){const s=Gn(t);return()=>Bd[e]??s()}const _a=Ud(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),St=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,hi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:St([0,.65,.55,1]),circOut:St([.55,0,1,.45]),backIn:St([.31,.01,.66,-.59]),backOut:St([.33,1.53,.69,.99])};function xa(t,e){if(t)return typeof t=="function"?_a()?ga(t,e):"ease-out":oa(t)?St(t):Array.isArray(t)?t.map(s=>xa(s,e)||hi.easeOut):hi[t]}function Fd(t,e,s,{delay:n=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:s};l&&(c.offset=l);const h=xa(a,r);Array.isArray(h)&&(c.easing=h);const d={delay:n,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function ka(t){return typeof t=="function"&&"applyToOptions"in t}function zd({type:t,...e}){return ka(t)&&_a()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Wd extends rr{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Kn(typeof e.type!="string");const u=zd(e);this.animation=Fd(s,n,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=nr(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):$d(s,n,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return he(Number(e))}get time(){return he(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ue(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Nd()?(this.animation.timeline=e,re):s(this)}}const Ta={anticipate:sa,backInOut:ta,circInOut:ra};function qd(t){return t in Ta}function Kd(t){typeof t.ease=="string"&&qd(t.ease)&&(t.ease=Ta[t.ease])}const di=10;class Gd extends Wd{constructor(e){Kd(e),va(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:n,onComplete:r,element:i,...o}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const a=new ir({...o,autoplay:!1}),l=ue(this.finishedTime??this.time);s.setWithVelocity(a.sample(l-di).value,a.sample(l).value,di),a.stop()}}const fi=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ee.test(t)||t==="0")&&!t.startsWith("url("));function Hd(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function Jd(t,e,s,n){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fi(r,e),a=fi(i,e);return!o||!a?!1:Hd(t)||(s==="spring"||ka(s))&&n}function Tn(t){t.duration=0,t.type}const Yd=new Set(["opacity","clipPath","filter","transform"]),Xd=Gn(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Zd(t){const{motionValue:e,name:s,repeatDelay:n,repeatType:r,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Xd()&&s&&Yd.has(s)&&(s!=="transform"||!u)&&!l&&!n&&r!=="mirror"&&i!==0&&o!=="inertia"}const Qd=40;class ef extends rr{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ee.now();const d={autoplay:e,delay:s,type:n,repeat:r,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...h},f=c?.KeyframeResolver||or;this.keyframeResolver=new f(a,(p,b,y)=>this.onKeyframesResolved(p,b,d,!y),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=ee.now(),Jd(e,i,o,a)||((_e.instantAnimations||!l)&&c?.(nr(e,n,s)),e[0]=e[e.length-1],Tn(n),n.repeat=0);const d={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Qd?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:e},f=!u&&Zd(d)?new Gd({...d,element:d.motionValue.owner.current}):new ir(d);f.finished.then(()=>this.notifyFinished()).catch(re),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ld()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const tf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sf(t){const e=tf.exec(t);if(!e)return[,];const[,s,n,r]=e;return[`--${s??n}`,r]}function Sa(t,e,s=1){const[n,r]=sf(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Go(o)?parseFloat(o):o}return Zn(r)?Sa(r,e,s+1):r}function ar(t,e){return t?.[e]??t?.default??t}const Pa=new Set(["width","height","top","left","right","bottom",...vt]),nf={test:t=>t==="auto",parse:t=>t},Aa=t=>e=>e.test(t),Ea=[yt,C,de,Se,Hh,Gh,nf],pi=t=>Ea.find(Aa(t));function rf(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Jo(t):!0}const of=new Set(["brightness","contrast","saturate","opacity"]);function af(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(Qn)||[];if(!n)return t;const r=s.replace(n,"");let i=of.has(e)?1:0;return n!==s&&(i*=100),e+"("+i+r+")"}const lf=/\b([a-z-]*)\(.*?\)/gu,Sn={...Ee,getAnimatableNone:t=>{const e=t.match(lf);return e?e.map(af).join(" "):t}},mi={...yt,transform:Math.round},cf={rotate:Se,rotateX:Se,rotateY:Se,rotateZ:Se,scale:ls,scaleX:ls,scaleY:ls,scaleZ:ls,skew:Se,skewX:Se,skewY:Se,distance:C,translateX:C,translateY:C,translateZ:C,x:C,y:C,z:C,perspective:C,transformPerspective:C,opacity:Lt,originX:si,originY:si,originZ:C},lr={borderWidth:C,borderTopWidth:C,borderRightWidth:C,borderBottomWidth:C,borderLeftWidth:C,borderRadius:C,radius:C,borderTopLeftRadius:C,borderTopRightRadius:C,borderBottomRightRadius:C,borderBottomLeftRadius:C,width:C,maxWidth:C,height:C,maxHeight:C,top:C,right:C,bottom:C,left:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,backgroundPositionX:C,backgroundPositionY:C,...cf,zIndex:mi,fillOpacity:Lt,strokeOpacity:Lt,numOctaves:mi},uf={...lr,color:U,backgroundColor:U,outlineColor:U,fill:U,stroke:U,borderColor:U,borderTopColor:U,borderRightColor:U,borderBottomColor:U,borderLeftColor:U,filter:Sn,WebkitFilter:Sn},Ca=t=>uf[t];function ja(t,e){let s=Ca(t);return s!==Sn&&(s=Ee),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const hf=new Set(["auto","none","0"]);function df(t,e,s){let n=0,r;for(;n<t.length&&!r;){const i=t[n];typeof i=="string"&&!hf.has(i)&&Vt(i).values.length&&(r=t[n]),n++}if(r&&s)for(const i of e)t[i]=ja(s,r)}class ff extends or{constructor(e,s,n,r,i){super(e,s,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Zn(u))){const c=Sa(u,s.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Pa.has(n)||e.length!==2)return;const[r,i]=e,o=pi(r),a=pi(i);if(o!==a)if(ui(o)&&ui(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Ue[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||rf(e[r]))&&n.push(r);n.length&&df(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ue[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(s);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Ue[s](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function pf(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=s?.[t]??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Ra=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mf(t){return Ho(t)&&"offsetHeight"in t}const gi=30,gf=t=>!isNaN(parseFloat(t));class yf{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=ee.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=ee.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gf(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Hn);const n=this.events[e].add(s);return e==="change"?()=>{n(),V.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ee.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gi)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,gi);return Yo(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dt(t,e){return new yf(t,e)}const{schedule:cr}=aa(queueMicrotask,!1),oe={x:!1,y:!1};function Oa(){return oe.x||oe.y}function vf(t){return t==="x"||t==="y"?oe[t]?null:(oe[t]=!0,()=>{oe[t]=!1}):oe.x||oe.y?null:(oe.x=oe.y=!0,()=>{oe.x=oe.y=!1})}function Ia(t,e){const s=pf(t),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[s,r,()=>n.abort()]}function yi(t){return!(t.pointerType==="touch"||Oa())}function bf(t,e,s={}){const[n,r,i]=Ia(t,s),o=a=>{if(!yi(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{yi(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return n.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const Ma=(t,e)=>e?t===e?!0:Ma(t,e.parentElement):!1,ur=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wf=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _f(t){return wf.has(t.tagName)||t.tabIndex!==-1}const ds=new WeakSet;function vi(t){return e=>{e.key==="Enter"&&t(e)}}function Fs(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xf=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=vi(()=>{if(ds.has(s))return;Fs(s,"down");const r=vi(()=>{Fs(s,"up")}),i=()=>Fs(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",i,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function bi(t){return ur(t)&&!Oa()}function kf(t,e,s={}){const[n,r,i]=Ia(t,s),o=a=>{const l=a.currentTarget;if(!bi(a))return;ds.add(l);const u=e(l,a),c=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),ds.has(l)&&ds.delete(l),bi(f)&&typeof u=="function"&&u(f,{success:p})},h=f=>{c(f,l===window||l===document||s.useGlobalTarget||Ma(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",d,r)};return n.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),mf(a)&&(a.addEventListener("focus",u=>xf(u,r)),!_f(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Da(t){return Ho(t)&&"ownerSVGElement"in t}function Tf(t){return Da(t)&&t.tagName==="svg"}const H=t=>!!(t&&t.getVelocity),Sf=[...Ea,U,Ee],Pf=t=>Sf.find(Aa(t)),La=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Af(t=!0){const e=_.useContext(zn);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=e,i=_.useId();_.useEffect(()=>{if(t)return r(i)},[t]);const o=_.useCallback(()=>t&&n&&n(i),[i,n,t]);return!s&&n?[!1,o]:[!0]}const Va=_.createContext({strict:!1}),wi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ft={};for(const t in wi)ft[t]={isEnabled:e=>wi[t].some(s=>!!e[s])};function Ef(t){for(const e in t)ft[e]={...ft[e],...t[e]}}const Cf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ws(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cf.has(t)}let $a=t=>!ws(t);function jf(t){typeof t=="function"&&($a=e=>e.startsWith("on")?!ws(e):t(e))}try{jf(require("@emotion/is-prop-valid").default)}catch{}function Rf(t,e,s){const n={};for(const r in t)r==="values"&&typeof t.values=="object"||($a(r)||s===!0&&ws(r)||!e&&!ws(r)||t.draggable&&r.startsWith("onDrag"))&&(n[r]=t[r]);return n}const ks=_.createContext({});function Ts(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $t(t){return typeof t=="string"||Array.isArray(t)}const hr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dr=["initial",...hr];function Ss(t){return Ts(t.animate)||dr.some(e=>$t(t[e]))}function Na(t){return!!(Ss(t)||t.variants)}function Of(t,e){if(Ss(t)){const{initial:s,animate:n}=t;return{initial:s===!1||$t(s)?s:void 0,animate:$t(n)?n:void 0}}return t.inherit!==!1?e:{}}function If(t){const{initial:e,animate:s}=Of(t,_.useContext(ks));return _.useMemo(()=>({initial:e,animate:s}),[_i(e),_i(s)])}function _i(t){return Array.isArray(t)?t.join(" "):t}const Nt={};function Mf(t){for(const e in t)Nt[e]=t[e],Xn(e)&&(Nt[e].isCSSVariable=!0)}function Ba(t,{layout:e,layoutId:s}){return bt.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Nt[t]||t==="opacity")}const Df={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lf=vt.length;function Vf(t,e,s){let n="",r=!0;for(let i=0;i<Lf;i++){const o=vt[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||s){const u=Ra(a,lr[o]);if(!l){r=!1;const c=Df[o]||o;n+=`${c}(${u}) `}s&&(e[o]=u)}}return n=n.trim(),s?n=s(e,r?"":n):r&&(n="none"),n}function fr(t,e,s){const{style:n,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(bt.has(l)){o=!0;continue}else if(Xn(l)){r[l]=u;continue}else{const c=Ra(u,lr[l]);l.startsWith("origin")?(a=!0,i[l]=c):n[l]=c}}if(e.transform||(o||s?n.transform=Vf(e,t.transform,s):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;n.transformOrigin=`${l} ${u} ${c}`}}const pr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ua(t,e,s){for(const n in e)!H(e[n])&&!Ba(n,s)&&(t[n]=e[n])}function $f({transformTemplate:t},e){return _.useMemo(()=>{const s=pr();return fr(s,e,t),Object.assign({},s.vars,s.style)},[e])}function Nf(t,e){const s=t.style||{},n={};return Ua(n,s,t),Object.assign(n,$f(t,e)),n}function Bf(t,e){const s={},n=Nf(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}const Uf={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ff={offset:"strokeDashoffset",array:"strokeDasharray"};function zf(t,e,s=1,n=0,r=!0){t.pathLength=1;const i=r?Uf:Ff;t[i.offset]=C.transform(-n);const o=C.transform(e),a=C.transform(s);t[i.array]=`${o} ${a}`}function Fa(t,{attrX:e,attrY:s,attrScale:n,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(fr(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),r!==void 0&&zf(h,r,i,o,!1)}const za=()=>({...pr(),attrs:{}}),Wa=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wf(t,e,s,n){const r=_.useMemo(()=>{const i=za();return Fa(i,e,Wa(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Ua(i,t.style,t),r.style={...i,...r.style}}return r}const qf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mr(t){return typeof t!="string"||t.includes("-")?!1:!!(qf.indexOf(t)>-1||/[A-Z]/u.test(t))}function Kf(t,e,s,{latestValues:n},r,i=!1){const a=(mr(t)?Wf:Bf)(e,n,r,t),l=Rf(e,typeof t=="string",i),u=t!==_.Fragment?{...l,...a,ref:s}:{},{children:c}=e,h=_.useMemo(()=>H(c)?c.get():c,[c]);return _.createElement(t,{...u,children:h})}function xi(t){const e=[{},{}];return t?.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function gr(t,e,s,n){if(typeof e=="function"){const[r,i]=xi(n);e=e(s!==void 0?s:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=xi(n);e=e(s!==void 0?s:t.custom,r,i)}return e}function fs(t){return H(t)?t.get():t}function Gf({scrapeMotionValuesFromProps:t,createRenderState:e},s,n,r){return{latestValues:Hf(s,n,r,t),renderState:e()}}function Hf(t,e,s,n){const r={},i=n(t,{});for(const d in i)r[d]=fs(i[d]);let{initial:o,animate:a}=t;const l=Ss(t),u=Na(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=s?s.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Ts(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const p=gr(t,d[f]);if(p){const{transitionEnd:b,transition:y,...v}=p;for(const k in v){let m=v[k];if(Array.isArray(m)){const x=c?m.length-1:0;m=m[x]}m!==null&&(r[k]=m)}for(const k in b)r[k]=b[k]}}}return r}const qa=t=>(e,s)=>{const n=_.useContext(ks),r=_.useContext(zn),i=()=>Gf(t,e,n,r);return s?i():qo(i)};function yr(t,e,s){const{style:n}=t,r={};for(const i in n)(H(n[i])||e.style&&H(e.style[i])||Ba(i,t)||s?.getValue(i)?.liveStyle!==void 0)&&(r[i]=n[i]);return r}const Jf=qa({scrapeMotionValuesFromProps:yr,createRenderState:pr});function Ka(t,e,s){const n=yr(t,e,s);for(const r in t)if(H(t[r])||H(e[r])){const i=vt.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}const Yf=qa({scrapeMotionValuesFromProps:Ka,createRenderState:za}),Xf=Symbol.for("motionComponentSymbol");function ot(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Zf(t,e,s){return _.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):ot(s)&&(s.current=n))},[e])}const vr=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qf="framerAppearId",Ga="data-"+vr(Qf),Ha=_.createContext({});function ep(t,e,s,n,r){const{visualElement:i}=_.useContext(ks),o=_.useContext(Va),a=_.useContext(zn),l=_.useContext(La).reducedMotion,u=_.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:s,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=_.useContext(Ha);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&tp(u.current,s,r,h);const d=_.useRef(!1);_.useInsertionEffect(()=>{c&&d.current&&c.update(s,a)});const f=s[Ga],p=_.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return Ko(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1),c.enteringChildren=void 0)}),c}function tp(t,e,s,n){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Ja(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&ot(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function Ja(t){if(t)return t.options.allowProjection!==!1?t.projection:Ja(t.parent)}function zs(t,{forwardMotionProps:e=!1}={},s,n){s&&Ef(s);const r=mr(t)?Yf:Jf;function i(a,l){let u;const c={..._.useContext(La),...a,layoutId:sp(a)},{isStatic:h}=c,d=If(a),f=r(a,h);if(!h&&Fn){np();const p=rp(c);u=p.MeasureLayout,d.visualElement=ep(t,f,c,n,p.ProjectionNode)}return g.jsxs(ks.Provider,{value:d,children:[u&&d.visualElement?g.jsx(u,{visualElement:d.visualElement,...c}):null,Kf(t,a,Zf(f,d.visualElement,l),f,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=_.forwardRef(i);return o[Xf]=t,o}function sp({layoutId:t}){const e=_.useContext(Wo).id;return e&&t!==void 0?e+"-"+t:t}function np(t,e){_.useContext(Va).strict}function rp(t){const{drag:e,layout:s}=ft;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ip(t,e){if(typeof Proxy>"u")return zs;const s=new Map,n=(i,o)=>zs(i,o,t,e),r=(i,o)=>n(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?n:(s.has(o)||s.set(o,zs(o,void 0,t,e)),s.get(o))})}function Ya({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function op({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ap(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Ws(t){return t===void 0||t===1}function Pn({scale:t,scaleX:e,scaleY:s}){return!Ws(t)||!Ws(e)||!Ws(s)}function Ve(t){return Pn(t)||Xa(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Xa(t){return ki(t.x)||ki(t.y)}function ki(t){return t&&t!=="0%"}function _s(t,e,s){const n=t-s,r=e*n;return s+r}function Ti(t,e,s,n,r){return r!==void 0&&(t=_s(t,r,n)),_s(t,s,n)+e}function An(t,e=0,s=1,n,r){t.min=Ti(t.min,e,s,n,r),t.max=Ti(t.max,e,s,n,r)}function Za(t,{x:e,y:s}){An(t.x,e.translate,e.scale,e.originPoint),An(t.y,s.translate,s.scale,s.originPoint)}const Si=.999999999999,Pi=1.0000000000001;function lp(t,e,s,n=!1){const r=s.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=s[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&lt(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Za(t,o)),n&&Ve(i.latestValues)&&lt(t,i.latestValues))}e.x<Pi&&e.x>Si&&(e.x=1),e.y<Pi&&e.y>Si&&(e.y=1)}function at(t,e){t.min=t.min+e,t.max=t.max+e}function Ai(t,e,s,n,r=.5){const i=$(t.min,t.max,r);An(t,e,s,i,n)}function lt(t,e){Ai(t.x,e.x,e.scaleX,e.scale,e.originX),Ai(t.y,e.y,e.scaleY,e.scale,e.originY)}function Qa(t,e){return Ya(ap(t.getBoundingClientRect(),e))}function cp(t,e,s){const n=Qa(t,s),{scroll:r}=e;return r&&(at(n.x,r.offset.x),at(n.y,r.offset.y)),n}const Ei=()=>({translate:0,scale:1,origin:0,originPoint:0}),ct=()=>({x:Ei(),y:Ei()}),Ci=()=>({min:0,max:0}),B=()=>({x:Ci(),y:Ci()}),En={current:null},el={current:!1};function up(){if(el.current=!0,!!Fn)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>En.current=t.matches;t.addEventListener("change",e),e()}else En.current=!1}const hp=new WeakMap;function dp(t,e,s){for(const n in e){const r=e[n],i=s[n];if(H(r))t.addValue(n,r);else if(H(i))t.addValue(n,dt(r,{owner:t}));else if(i!==r)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(n);t.addValue(n,dt(o!==void 0?o:r,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const ji=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fp{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=or,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=ee.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,V.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ss(s),this.isVariantNode=Na(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const d in h){const f=h[d];l[d]!==void 0&&H(f)&&f.set(l[d])}}mount(e){this.current=e,hp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),el.current||up(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:En.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ae(this.notifyUpdate),Ae(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=bt.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&V.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ft){const s=ft[e];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):B()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<ji.length;n++){const r=ji[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=dp(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=dt(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Go(n)||Jo(n))?n=parseFloat(n):!Pf(n)&&Ee.test(s)&&(n=ja(e,s)),this.setBaseTarget(e,H(n)?n.get():n)),H(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const i=gr(this.props,s,this.presenceContext?.custom);i&&(n=i[e])}if(s&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!H(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Hn),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){cr.render(this.render)}}class tl extends fp{constructor(){super(...arguments),this.KeyframeResolver=ff}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;H(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function sl(t,{style:e,vars:s},n,r){const i=t.style;let o;for(o in e)i[o]=e[o];r?.applyProjectionStyles(i,n);for(o in s)i.setProperty(o,s[o])}function pp(t){return window.getComputedStyle(t)}class mp extends tl{constructor(){super(...arguments),this.type="html",this.renderInstance=sl}readValueFromInstance(e,s){if(bt.has(s))return this.projection?.isProjecting?bn(s):Rd(e,s);{const n=pp(e),r=(Xn(s)?n.getPropertyValue(s):n[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Qa(e,s)}build(e,s,n){fr(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return yr(e,s,n)}}const nl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gp(t,e,s,n){sl(t,e,void 0,n);for(const r in e.attrs)t.setAttribute(nl.has(r)?r:vr(r),e.attrs[r])}class yp extends tl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=B}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(bt.has(s)){const n=Ca(s);return n&&n.default||0}return s=nl.has(s)?s:vr(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return Ka(e,s,n)}build(e,s,n){Fa(e,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,s,n,r){gp(e,s,n,r)}mount(e){this.isSVGTag=Wa(e.tagName),super.mount(e)}}const vp=(t,e)=>mr(t)?new yp(e):new mp(e,{allowProjection:t!==_.Fragment});function ut(t,e,s){const n=t.getProps();return gr(n,e,s!==void 0?s:n.custom,t)}const Cn=t=>Array.isArray(t);function bp(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,dt(s))}function wp(t){return Cn(t)?t[t.length-1]||0:t}function br(t,e){const s=ut(t,e);let{transitionEnd:n={},transition:r={},...i}=s||{};i={...i,...n};for(const o in i){const a=wp(i[o]);bp(t,o,a)}}function _p(t){return!!(H(t)&&t.add)}function jn(t,e){const s=t.getValue("willChange");if(_p(s))return s.add(e);if(!s&&_e.WillChange){const n=new _e.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function rl(t){return t.props[Ga]}const xp=t=>t!==null;function kp(t,{repeat:e,repeatType:s="loop"},n){const r=t.filter(xp),i=e&&s!=="loop"&&e%2===1?0:r.length-1;return r[i]}const Tp={type:"spring",stiffness:500,damping:25,restSpeed:10},Sp=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pp={type:"keyframes",duration:.8},Ap={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ep=(t,{keyframes:e})=>e.length>2?Pp:bt.has(t)?t.startsWith("scale")?Sp(e[1]):Tp:Ap;function Cp({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const wr=(t,e,s,n={},r,i)=>o=>{const a=ar(n,t)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ue(l);const c={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};Cp(a)||Object.assign(c,Ep(t,c)),c.duration&&(c.duration=ue(c.duration)),c.repeatDelay&&(c.repeatDelay=ue(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Tn(c),c.delay===0&&(h=!0)),(_e.instantAnimations||_e.skipAnimations)&&(h=!0,Tn(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const d=kp(c.keyframes,a);if(d!==void 0){V.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new ir(c):new ef(c)};function jp({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function il(t,e,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(i=n);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),d=a[c];if(d===void 0||u&&jp(u,c))continue;const f={delay:s,...ar(i||{},c)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===p&&!f.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const v=rl(t);if(v){const k=window.MotionHandoffAnimation(v,c,V);k!==null&&(f.startTime=k,b=!0)}}jn(t,c),h.start(wr(c,h,d,t.shouldReduceMotion&&Pa.has(c)?{type:!1}:f,t,b));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{V.update(()=>{o&&br(t,o)})}),l}function ol(t,e,s,n=0,r=1){const i=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*n;return typeof s=="function"?s(i,o):r===1?i*n:a-i*n}function Rn(t,e,s={}){const n=ut(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const i=n?()=>Promise.all(il(t,n,s)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=r;return Rp(t,e,l,u,c,h,s)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function Rp(t,e,s=0,n=0,r=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Rn(l,e,{...o,delay:s+(typeof n=="function"?0:n)+ol(t.variantChildren,l,n,r,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function al(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(i=>Rn(t,i,s));n=Promise.all(r)}else if(typeof e=="string")n=Rn(t,e,s);else{const r=typeof e=="function"?ut(t,e,s.custom):e;n=Promise.all(il(t,r,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}function ll(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}const Op=dr.length;function cl(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?cl(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<Op;s++){const n=dr[s],r=t.props[n];($t(r)||r===!1)&&(e[n]=r)}return e}const Ip=[...hr].reverse(),Mp=hr.length;function Dp(t){return e=>Promise.all(e.map(({animation:s,options:n})=>al(t,s,n)))}function Lp(t){let e=Dp(t),s=Ri(),n=!0;const r=l=>(u,c)=>{const h=ut(t,c,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:d,transitionEnd:f,...p}=h;u={...u,...p,...f}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,c=cl(t.parent)||{},h=[],d=new Set;let f={},p=1/0;for(let y=0;y<Mp;y++){const v=Ip[y],k=s[v],m=u[v]!==void 0?u[v]:c[v],x=$t(m),T=v===l?k.isActive:null;T===!1&&(p=y);let E=m===c[v]&&m!==u[v]&&x;if(E&&n&&t.manuallyAnimateOnMount&&(E=!1),k.protectedKeys={...f},!k.isActive&&T===null||!m&&!k.prevProp||Ts(m)||typeof m=="boolean")continue;const j=Vp(k.prevProp,m);let w=j||v===l&&k.isActive&&!E&&x||y>p&&x,L=!1;const J=Array.isArray(m)?m:[m];let fe=J.reduce(r(v),{});T===!1&&(fe={});const{prevResolvedValues:Re={}}=k,Ht={...Re,...fe},qe=D=>{w=!0,d.has(D)&&(L=!0,d.delete(D)),k.needsAnimating[D]=!0;const A=t.getValue(D);A&&(A.liveStyle=!1)};for(const D in Ht){const A=fe[D],ce=Re[D];if(f.hasOwnProperty(D))continue;let me=!1;Cn(A)&&Cn(ce)?me=!ll(A,ce):me=A!==ce,me?A!=null?qe(D):d.add(D):A!==void 0&&d.has(D)?qe(D):k.protectedKeys[D]=!0}k.prevProp=m,k.prevResolvedValues=fe,k.isActive&&(f={...f,...fe}),n&&t.blockInitialAnimation&&(w=!1);const pe=E&&j;w&&(!pe||L)&&h.push(...J.map(D=>{const A={type:v};if(typeof D=="string"&&n&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,me=ut(ce,D);if(ce.enteringChildren&&me){const{delayChildren:Jt}=me.transition||{};A.delay=ol(ce.enteringChildren,t,Jt)}}return{animation:D,options:A}}))}if(d.size){const y={};if(typeof u.initial!="boolean"){const v=ut(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(y.transition=v.transition)}d.forEach(v=>{const k=t.getBaseTarget(v),m=t.getValue(v);m&&(m.liveStyle=!0),y[v]=k??null}),h.push({animation:y})}let b=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(h):Promise.resolve()}function a(l,u){if(s[l].isActive===u)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,u)),s[l].isActive=u;const c=o(l);for(const h in s)s[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Ri(),n=!0}}}function Vp(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ll(e,t):!1}function De(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ri(){return{animate:De(!0),whileInView:De(),whileHover:De(),whileTap:De(),whileDrag:De(),whileFocus:De(),exit:De()}}let je=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};class $p extends je{constructor(e){super(e),e.animationState||(e.animationState=Lp(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ts(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Np=0;class Bp extends je{constructor(){super(...arguments),this.id=Np++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);s&&!e&&r.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Up={animation:{Feature:$p},exit:{Feature:Bp}};function Bt(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function Kt(t){return{point:{x:t.pageX,y:t.pageY}}}const Fp=t=>e=>ur(e)&&t(e,Kt(e));function Rt(t,e,s,n){return Bt(t,e,Fp(s),n)}const ul=1e-4,zp=1-ul,Wp=1+ul,hl=.01,qp=0-hl,Kp=0+hl;function X(t){return t.max-t.min}function Gp(t,e,s){return Math.abs(t-e)<=s}function Oi(t,e,s,n=.5){t.origin=n,t.originPoint=$(e.min,e.max,t.origin),t.scale=X(s)/X(e),t.translate=$(s.min,s.max,t.origin)-t.originPoint,(t.scale>=zp&&t.scale<=Wp||isNaN(t.scale))&&(t.scale=1),(t.translate>=qp&&t.translate<=Kp||isNaN(t.translate))&&(t.translate=0)}function Ot(t,e,s,n){Oi(t.x,e.x,s.x,n?n.originX:void 0),Oi(t.y,e.y,s.y,n?n.originY:void 0)}function Ii(t,e,s){t.min=s.min+e.min,t.max=t.min+X(e)}function Hp(t,e,s){Ii(t.x,e.x,s.x),Ii(t.y,e.y,s.y)}function Mi(t,e,s){t.min=e.min-s.min,t.max=t.min+X(e)}function It(t,e,s){Mi(t.x,e.x,s.x),Mi(t.y,e.y,s.y)}function ne(t){return[t("x"),t("y")]}const dl=({current:t})=>t?t.ownerDocument.defaultView:null,Di=(t,e)=>Math.abs(t-e);function Jp(t,e){const s=Di(t.x,e.x),n=Di(t.y,e.y);return Math.sqrt(s**2+n**2)}class fl{constructor(e,s,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ks(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Jp(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:b}=d,{timestamp:y}=G;this.history.push({...b,timestamp:y});const{onStart:v,onMove:k}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=qs(f,this.transformPagePoint),V.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ks(d.type==="pointercancel"?this.lastMoveEventInfo:qs(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),b&&b(d,v)},!ur(e))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const a=Kt(e),l=qs(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=G;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=s;h&&h(e,Ks(l,this.history)),this.removeListeners=zt(Rt(this.contextWindow,"pointermove",this.handlePointerMove),Rt(this.contextWindow,"pointerup",this.handlePointerUp),Rt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ae(this.updatePoint)}}function qs(t,e){return e?{point:e(t.point)}:t}function Li(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ks({point:t},e){return{point:t,delta:Li(t,pl(e)),offset:Li(t,Yp(e)),velocity:Xp(e,.1)}}function Yp(t){return t[0]}function pl(t){return t[t.length-1]}function Xp(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const r=pl(t);for(;s>=0&&(n=t[s],!(r.timestamp-n.timestamp>ue(e)));)s--;if(!n)return{x:0,y:0};const i=he(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zp(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?$(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?$(s,t,n.max):Math.min(t,s)),t}function Vi(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function Qp(t,{top:e,left:s,bottom:n,right:r}){return{x:Vi(t.x,s,r),y:Vi(t.y,e,n)}}function $i(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function em(t,e){return{x:$i(t.x,e.x),y:$i(t.y,e.y)}}function tm(t,e){let s=.5;const n=X(t),r=X(e);return r>n?s=Dt(e.min,e.max-n,t.min):n>r&&(s=Dt(t.min,t.max-r,e.min)),we(0,1,s)}function sm(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const On=.35;function nm(t=On){return t===!1?t=0:t===!0&&(t=On),{x:Ni(t,"left","right"),y:Ni(t,"top","bottom")}}function Ni(t,e,s){return{min:Bi(t,e),max:Bi(t,s)}}function Bi(t,e){return typeof t=="number"?t:t[e]||0}const rm=new WeakMap;class im{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=B(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Kt(h).point)},o=(h,d)=>{const{drag:f,dragPropagation:p,onDragStart:b}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vf(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ne(v=>{let k=this.getAxisMotionValue(v).get()||0;if(de.test(k)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[v];x&&(k=X(x)*(parseFloat(k)/100))}}this.originPoint[v]=k}),b&&V.postRender(()=>b(h,d)),jn(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:b,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=om(v),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),y&&y(h,d)},l=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ne(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fl(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:dl(this.visualElement)})}stop(e,s){const n=e||this.latestPointerEvent,r=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&V.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:r}=this.getProps();if(!n||!cs(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Zp(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ot(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Qp(n.layoutBox,e):this.constraints=!1,this.elastic=nm(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ne(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=sm(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!ot(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=cp(n,r.root,this.visualElement.getTransformPagePoint());let o=em(r.layout.layoutBox,i);if(s){const a=s(op(o));this.hasMutatedConstraints=!!a,a&&(o=Ya(a))}return o}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ne(c=>{if(!cs(c,s,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return jn(this.visualElement,e),n.start(wr(e,n,0,s,this.visualElement,!1))}stopAnimation(){ne(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ne(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ne(s=>{const{drag:n}=this.getProps();if(!cs(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(s);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[s];i.set(e[s]-$(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!ot(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ne(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=tm({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ne(o=>{if(!cs(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set($(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;rm.set(this.visualElement,this);const e=this.visualElement.current,s=Rt(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();ot(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),V.read(n);const o=Bt(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ne(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=On,dragMomentum:a=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function cs(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function om(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class am extends je{constructor(e){super(e),this.removeGroupControls=re,this.removeListeners=re,this.controls=new im(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||re}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ui=t=>(e,s)=>{t&&V.postRender(()=>t(e,s))};class lm extends je{constructor(){super(...arguments),this.removePointerDownListener=re}onPointerDown(e){this.session=new fl(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dl(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ui(e),onStart:Ui(s),onMove:n,onEnd:(i,o)=>{delete this.session,r&&V.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Rt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ps={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fi(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(C.test(t))t=parseFloat(t);else return t;const s=Fi(t,e.target.x),n=Fi(t,e.target.y);return`${s}% ${n}%`}},cm={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,r=Ee.parse(t);if(r.length>5)return n;const i=Ee.createTransformer(t),o=typeof r[0]!="number"?1:0,a=s.x.scale*e.x,l=s.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=$(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};let Gs=!1;class um extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;Mf(hm),i&&(s.group&&s.group.add(i),n&&n.register&&r&&n.register(i),Gs&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ps.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Gs=!0,r||e.layoutDependency!==s||s===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||V.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cr.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=e;Gs=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ml(t){const[e,s]=Af(),n=_.useContext(Wo);return g.jsx(um,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(Ha),isPresent:e,safeToRemove:s})}const hm={borderRadius:{...kt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomLeftRadius:kt,borderBottomRightRadius:kt,boxShadow:cm};function dm(t,e,s){const n=H(t)?t:dt(t);return n.start(wr("",n,e,s)),n.animation}const fm=(t,e)=>t.depth-e.depth;class pm{constructor(){this.children=[],this.isDirty=!1}add(e){Wn(this.children,e),this.isDirty=!0}remove(e){qn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fm),this.isDirty=!1,this.children.forEach(e)}}function mm(t,e){const s=ee.now(),n=({timestamp:r})=>{const i=r-s;i>=e&&(Ae(n),t(i-e))};return V.setup(n,!0),()=>Ae(n)}const gl=["TopLeft","TopRight","BottomLeft","BottomRight"],gm=gl.length,zi=t=>typeof t=="string"?parseFloat(t):t,Wi=t=>typeof t=="number"||C.test(t);function ym(t,e,s,n,r,i){r?(t.opacity=$(0,s.opacity??1,vm(n)),t.opacityExit=$(e.opacity??1,0,bm(n))):i&&(t.opacity=$(e.opacity??1,s.opacity??1,n));for(let o=0;o<gm;o++){const a=`border${gl[o]}Radius`;let l=qi(e,a),u=qi(s,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Wi(l)===Wi(u)?(t[a]=Math.max($(zi(l),zi(u),n),0),(de.test(u)||de.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||s.rotate)&&(t.rotate=$(e.rotate||0,s.rotate||0,n))}function qi(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vm=yl(0,.5,na),bm=yl(.5,.95,re);function yl(t,e,s){return n=>n<t?0:n>e?1:s(Dt(t,e,n))}function Ki(t,e){t.min=e.min,t.max=e.max}function se(t,e){Ki(t.x,e.x),Ki(t.y,e.y)}function Gi(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hi(t,e,s,n,r){return t-=e,t=_s(t,1/s,n),r!==void 0&&(t=_s(t,1/r,n)),t}function wm(t,e=0,s=1,n=.5,r,i=t,o=t){if(de.test(e)&&(e=parseFloat(e),e=$(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$(i.min,i.max,n);t===i&&(a-=e),t.min=Hi(t.min,e,s,a,r),t.max=Hi(t.max,e,s,a,r)}function Ji(t,e,[s,n,r],i,o){wm(t,e[s],e[n],e[r],e.scale,i,o)}const _m=["x","scaleX","originX"],xm=["y","scaleY","originY"];function Yi(t,e,s,n){Ji(t.x,e,_m,s?s.x:void 0,n?n.x:void 0),Ji(t.y,e,xm,s?s.y:void 0,n?n.y:void 0)}function Xi(t){return t.translate===0&&t.scale===1}function vl(t){return Xi(t.x)&&Xi(t.y)}function Zi(t,e){return t.min===e.min&&t.max===e.max}function km(t,e){return Zi(t.x,e.x)&&Zi(t.y,e.y)}function Qi(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bl(t,e){return Qi(t.x,e.x)&&Qi(t.y,e.y)}function eo(t){return X(t.x)/X(t.y)}function to(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tm{constructor(){this.members=[]}add(e){Wn(this.members,e),e.scheduleRender()}remove(e){if(qn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(r=>e===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sm(t,e,s){let n="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=s?.z||0;if((r||i||o)&&(n=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:p}=s;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),h&&(n+=`rotateX(${h}deg) `),d&&(n+=`rotateY(${d}deg) `),f&&(n+=`skewX(${f}deg) `),p&&(n+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Hs=["","X","Y","Z"],Pm=1e3;let Am=0;function Js(t,e,s,n){const{latestValues:r}=e;r[t]&&(s[t]=r[t],e.setStaticValue(t,0),n&&(n[t]=0))}function wl(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=rl(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",V,!(r||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&wl(n)}function _l({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},a=e?.()){this.id=Am++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jm),this.nodes.forEach(Mm),this.nodes.forEach(Dm),this.nodes.forEach(Rm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pm)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hn),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Da(o)&&!Tf(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,h=0;const d=()=>this.root.updateBlockedByResize=!1;V.read(()=>{h=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,c&&c(),c=mm(d,250),ps.hasAnimatedSinceResize&&(ps.hasAnimatedSinceResize=!1,this.nodes.forEach(ro)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Bm,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!bl(this.targetLayout,f),k=!h&&d;if(this.options.layoutRoot||this.resumeFrom||k||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const m={...ar(p,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(m.delay=0,m.type=!1),this.startAnimation(m),this.setAnimationOrigin(c,k)}else h||ro(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ae(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lm),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(so);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(no);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Im),this.nodes.forEach(Em),this.nodes.forEach(Cm)):this.nodes.forEach(no),this.clearAllSnapshots();const a=ee.now();G.delta=we(0,1e3/60,a-G.timestamp),G.timestamp=a,G.isProcessing=!0,Vs.update.process(G),Vs.preRender.process(G),Vs.render.process(G),G.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Om),this.sharedNodes.forEach(Vm)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,V.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){V.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!X(this.snapshot.measuredBox.x)&&!X(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=B(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!vl(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ve(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Um(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return B();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fm))){const{scroll:u}=this.root;u&&(at(a.x,u.offset.x),at(a.y,u.offset.y))}return a}removeElementScroll(o){const a=B();if(se(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;u!==this.root&&c&&h.layoutScroll&&(c.wasRoot&&se(a,o),at(a.x,c.offset.x),at(a.y,c.offset.y))}return a}applyTransform(o,a=!1){const l=B();se(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&lt(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ve(c.latestValues)&&lt(l,c.latestValues)}return Ve(this.latestValues)&&lt(l,this.latestValues),l}removeTransform(o){const a=B();se(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ve(u.latestValues))continue;Pn(u.latestValues)&&u.updateSnapshot();const c=B(),h=u.measurePageBox();se(c,h),Yi(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ve(this.latestValues)&&Yi(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==G.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=G.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=B(),this.relativeTargetOrigin=B(),It(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),se(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=B(),this.targetWithTransforms=B()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):se(this.target,this.layout.layoutBox),Za(this.target,this.targetDelta)):se(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=B(),this.relativeTargetOrigin=B(),It(this.relativeTargetOrigin,this.target,d.target),se(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pn(this.parent.latestValues)||Xa(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===G.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;se(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;lp(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=B());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gi(this.prevProjectionDelta.x,this.projectionDelta.x),Gi(this.prevProjectionDelta.y,this.projectionDelta.y)),Ot(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!to(this.projectionDelta.x,this.prevProjectionDelta.x)||!to(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ct(),this.projectionDelta=ct(),this.projectionDeltaWithTransform=ct()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ct();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=B(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,b=f!==p,y=this.getStack(),v=!y||y.members.length<=1,k=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(Nm));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const T=x/1e3;io(h.x,o.x,T),io(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(It(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$m(this.relativeTarget,this.relativeTargetOrigin,d,T),m&&km(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=B()),se(m,this.relativeTarget)),b&&(this.animationValues=c,ym(c,u,this.latestValues,T,k,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ae(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=V.update(()=>{ps.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dt(0)),this.currentAnimation=dm(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&xl(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||B();const h=X(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=X(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}se(a,l),lt(a,c),Ot(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Tm),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Js("z",o,u,this.animationValues);for(let c=0;c<Hs.length;c++)Js(`rotate${Hs[c]}`,o,u,this.animationValues),Js(`skew${Hs[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=fs(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=fs(a?.pointerEvents)||""),this.hasProjected&&!Ve(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Sm(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:d,y:f}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in Nt){if(c[p]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:v}=Nt[p],k=h==="none"?c[p]:b(c[p],u);if(y){const m=y.length;for(let x=0;x<m;x++)o[y[x]]=k}else v?this.options.visualElement.renderState.vars[p]=k:o[p]=k}this.options.layoutId&&(o.pointerEvents=u===this?fs(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(so),this.root.sharedNodes.clear()}}}function Em(t){t.updateLayout()}function Cm(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=t.layout,{animationType:r}=t.options,i=e.source!==t.layout.source;r==="size"?ne(c=>{const h=i?e.measuredBox[c]:e.layoutBox[c],d=X(h);h.min=s[c].min,h.max=h.min+d}):xl(r,e.layoutBox,s)&&ne(c=>{const h=i?e.measuredBox[c]:e.layoutBox[c],d=X(s[c]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+d)});const o=ct();Ot(o,s,e.layoutBox);const a=ct();i?Ot(a,t.applyTransform(n,!0),e.measuredBox):Ot(a,s,e.layoutBox);const l=!vl(o);let u=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:h,layout:d}=c;if(h&&d){const f=B();It(f,e.layoutBox,h.layoutBox);const p=B();It(p,s,d.layoutBox),bl(f,p)||(u=!0),c.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=f,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function jm(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Rm(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Om(t){t.clearSnapshot()}function so(t){t.clearMeasurements()}function no(t){t.isLayoutDirty=!1}function Im(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ro(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Mm(t){t.resolveTargetDelta()}function Dm(t){t.calcProjection()}function Lm(t){t.resetSkewAndRotation()}function Vm(t){t.removeLeadSnapshot()}function io(t,e,s){t.translate=$(e.translate,0,s),t.scale=$(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function oo(t,e,s,n){t.min=$(e.min,s.min,n),t.max=$(e.max,s.max,n)}function $m(t,e,s,n){oo(t.x,e.x,s.x,n),oo(t.y,e.y,s.y,n)}function Nm(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bm={duration:.45,ease:[.4,0,.1,1]},ao=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lo=ao("applewebkit/")&&!ao("chrome/")?Math.round:re;function co(t){t.min=lo(t.min),t.max=lo(t.max)}function Um(t){co(t.x),co(t.y)}function xl(t,e,s){return t==="position"||t==="preserve-aspect"&&!Gp(eo(e),eo(s),.2)}function Fm(t){return t!==t.root&&t.scroll?.wasRoot}const zm=_l({attachResizeListener:(t,e)=>Bt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ys={current:void 0},kl=_l({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ys.current){const t=new zm({});t.mount(window),t.setOptions({layoutScroll:!0}),Ys.current=t}return Ys.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wm={pan:{Feature:lm},drag:{Feature:am,ProjectionNode:kl,MeasureLayout:ml}};function uo(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,i=n[r];i&&V.postRender(()=>i(e,Kt(e)))}class qm extends je{mount(){const{current:e}=this.node;e&&(this.unmount=bf(e,(s,n)=>(uo(this.node,n,"Start"),r=>uo(this.node,r,"End"))))}unmount(){}}class Km extends je{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zt(Bt(this.node.current,"focus",()=>this.onFocus()),Bt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ho(t,e,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),i=n[r];i&&V.postRender(()=>i(e,Kt(e)))}class Gm extends je{mount(){const{current:e}=this.node;e&&(this.unmount=kf(e,(s,n)=>(ho(this.node,n,"Start"),(r,{success:i})=>ho(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const In=new WeakMap,Xs=new WeakMap,Hm=t=>{const e=In.get(t.target);e&&e(t)},Jm=t=>{t.forEach(Hm)};function Ym({root:t,...e}){const s=t||document;Xs.has(s)||Xs.set(s,{});const n=Xs.get(s),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(Jm,{root:t,...e})),n[r]}function Xm(t,e,s){const n=Ym(e);return In.set(t,s),n.observe(t),()=>{In.delete(t),n.unobserve(t)}}const Zm={some:0,all:1};class Qm extends je{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:i}=e,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:Zm[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return Xm(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(eg(e,s))&&this.startObserver()}unmount(){}}function eg({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const tg={inView:{Feature:Qm},tap:{Feature:Gm},focus:{Feature:Km},hover:{Feature:qm}},sg={layout:{ProjectionNode:kl,MeasureLayout:ml}},ng={...Up,...tg,...Wm,...sg},ze=ip(ng,vp);function rg(t){t.values.forEach(e=>e.stop())}function Mn(t,e){[...e].reverse().forEach(n=>{const r=t.getVariant(n);r&&br(t,r),t.variantChildren&&t.variantChildren.forEach(i=>{Mn(i,e)})})}function ig(t,e){if(Array.isArray(e))return Mn(t,e);if(typeof e=="string")return Mn(t,[e]);br(t,e)}function og(){const t=new Set,e={subscribe(s){return t.add(s),()=>void t.delete(s)},start(s,n){const r=[];return t.forEach(i=>{r.push(al(i,s,{transitionOverride:n}))}),Promise.all(r)},set(s){return t.forEach(n=>{ig(n,s)})},stop(){t.forEach(s=>{rg(s)})},mount(){return()=>{e.stop()}}};return e}function ag(){const t=qo(og);return Ko(t.mount,[]),t}const Gt=ag,lg={normal:{rotate:0,x:0,y:0},animate:{rotate:[-.5,.5,-.5],x:[0,-1,1.5,0],y:[0,1.5,-1,0]}},Tl=_.forwardRef(({onMouseEnter:t,onMouseLeave:e,className:s,size:n=28,...r},i)=>{const o=Gt(),a=_.useRef(!1);_.useImperativeHandle(i,()=>(a.current=!0,{startAnimation:()=>o.start("animate"),stopAnimation:()=>o.start("normal")}));const l=_.useCallback(c=>{a.current?t?.(c):o.start("animate")},[o,t]),u=_.useCallback(c=>{a.current?e?.(c):o.start("normal")},[o,e]);return g.jsx("div",{className:Q(s),onMouseEnter:l,onMouseLeave:u,...r,children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{overflow:"visible"},children:[g.jsx("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx(ze.path,{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",variants:lg,animate:o})]})})});Tl.displayName="SquarePenIcon";const cg={normal:{opacity:1,pathLength:1,scale:1,transition:{duration:.3,opacity:{duration:.1}}},animate:{opacity:[0,1],pathLength:[0,1],scale:[.5,1],transition:{duration:.4,opacity:{duration:.1}}}},Sl=_.forwardRef(({onMouseEnter:t,onMouseLeave:e,className:s,size:n=28,...r},i)=>{const o=Gt(),a=_.useRef(!1);_.useImperativeHandle(i,()=>(a.current=!0,{startAnimation:()=>o.start("animate"),stopAnimation:()=>o.start("normal")}));const l=_.useCallback(c=>{a.current?t?.(c):o.start("animate")},[o,t]),u=_.useCallback(c=>{a.current?e?.(c):o.start("normal")},[o,e]);return g.jsx("div",{className:Q(s),onMouseEnter:l,onMouseLeave:u,...r,children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}),g.jsx(ze.path,{variants:cg,initial:"normal",animate:o,d:"m9 12 2 2 4-4"})]})})});Sl.displayName="ShieldCheckIcon";const ug={normal:{rotate:0,originX:"0%",originY:"100%",transition:{duration:.6,ease:[.4,0,.2,1]}},animate:{rotate:300,originX:"0%",originY:"100%",transition:{delay:.1,duration:.6,ease:[.4,0,.2,1]}}},hg={normal:{scale:1,y:0},animate:{scale:[.9,1],y:[0,1,0],transition:{duration:.3,ease:[.4,0,.2,1]}}},Pl=_.forwardRef(({onMouseEnter:t,onMouseLeave:e,className:s,size:n=28,...r},i)=>{const o=Gt(),a=_.useRef(!1);_.useImperativeHandle(i,()=>(a.current=!0,{startAnimation:()=>o.start("animate"),stopAnimation:()=>o.start("normal")}));const l=_.useCallback(c=>{a.current?t?.(c):o.start("animate")},[o,t]),u=_.useCallback(c=>{a.current?e?.(c):o.start("normal")},[o,e]);return g.jsx("div",{className:Q(s),onMouseEnter:l,onMouseLeave:u,...r,children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx(ze.line,{x1:"10",x2:"14",y1:"2",y2:"2",animate:o,variants:hg}),g.jsx(ze.line,{x1:"12",x2:"15",y1:"14",y2:"11",initial:"normal",animate:o,variants:ug}),g.jsx("circle",{cx:"12",cy:"14",r:"8"})]})})});Pl.displayName="TimerIcon";const dg={normal:{x:0,y:0},animate:{x:[0,0,-3,2,-2,1,-1,0],y:[0,-3,0,-2,-3,-1,-2,0],transition:{duration:6,ease:"easeInOut",repeat:1/0,repeatType:"reverse",times:[0,.15,.3,.45,.6,.75,.9,1]}}},fg={normal:{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"},animate:{d:["M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z","M4.5 16.5c-1.5 1.26-3 5.5-3 5.5s4.74-1 6-2.5c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z","M4.5 16.5c-1.5 1.26-2.2 4.8-2.2 4.8s3.94-0.3 5.2-1.8c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z","M4.5 16.5c-1.5 1.26-2.8 5.2-2.8 5.2s4.54-0.7 5.8-2.2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z","M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"],transition:{duration:2,ease:[.4,0,.2,1],repeat:1/0,times:[0,.2,.5,.8,1]}}},Al=_.forwardRef(({onMouseEnter:t,onMouseLeave:e,className:s,size:n=28,...r},i)=>{const o=Gt(),a=_.useRef(!1);_.useImperativeHandle(i,()=>(a.current=!0,{startAnimation:()=>o.start("animate"),stopAnimation:()=>o.start("normal")}));const l=_.useCallback(c=>{a.current?t?.(c):o.start("animate")},[o,t]),u=_.useCallback(c=>{a.current?e?.(c):o.start("normal")},[o,e]);return g.jsx("div",{className:Q(s),onMouseEnter:l,onMouseLeave:u,...r,children:g.jsxs(ze.svg,{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",variants:dg,animate:o,children:[g.jsx(ze.path,{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",variants:fg,animate:o}),g.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),g.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),g.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]})})});Al.displayName="RocketIcon";const pg={normal:{opacity:1,pathLength:1,scale:1,transition:{duration:.3,opacity:{duration:.1}}},animate:{opacity:[0,1],pathLength:[0,1],scale:[.5,1],transition:{duration:.4,opacity:{duration:.1}}}},El=_.forwardRef(({onMouseEnter:t,onMouseLeave:e,className:s,size:n=28,...r},i)=>{const o=Gt(),a=_.useRef(!1);_.useImperativeHandle(i,()=>(a.current=!0,{startAnimation:()=>o.start("animate"),stopAnimation:()=>o.start("normal")}));const l=_.useCallback(c=>{a.current?t?.(c):o.start("animate")},[o,t]),u=_.useCallback(c=>{a.current?e?.(c):o.start("normal")},[o,e]);return g.jsx("div",{className:Q(s),onMouseEnter:l,onMouseLeave:u,...r,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx(ze.path,{variants:pg,initial:"normal",animate:o,d:"M4 12 9 17L20 6"})})})});El.displayName="CheckIcon";function us({renderIcon:t,title:e}){const s=_.useRef(null);return g.jsxs("div",{className:"w-full min-w-0 max-w-[360px] sm:max-w-[320px] text-center group px-2",onMouseEnter:()=>s.current?.startAnimation?.(),onMouseLeave:()=>s.current?.stopAnimation?.(),children:[g.jsx("div",{className:"size-24 rounded-xl flex items-center justify-center mx-auto mb-4 text-3xl",children:t(s)}),g.jsx("h3",{className:"text-[20px] sm:text-[22px] md:text-2xl font-semibold text-primary tracking-tight leading-snug break-words whitespace-normal max-w-[20ch] sm:max-w-[16ch] md:max-w-[18ch] mx-auto",children:e})]})}function mg(){const[t,e]=_.useState({input:"",phase:"idle"}),s=t.input.trim().length>10,n=t.phase==="submitting",r=t.phase==="success",i=t.phase!=="hidden",o=i,a=()=>{!s||n||(e(l=>({...l,phase:"submitting"})),setTimeout(()=>{e(l=>({...l,phase:"success"})),setTimeout(()=>{e(l=>({...l,phase:"hidden"}))},3e3)},1500))};return g.jsxs("div",{className:"bg-primary/80 backdrop-blur-lg rounded-xl md:rounded-4xl shadow-2xl overflow-hidden relative h-[480px] sm:h-[520px] md:h-[560px] flex items-center justify-center",children:[g.jsx("div",{className:`absolute inset-0 bg-linear-to-br from-primary to-primary transition-all duration-1000 flex items-center justify-center text-primary-foreground ${o?"blur-2xl":"blur-0"}`,children:g.jsxs("div",{className:"text-center opacity-70",children:[g.jsx("h2",{className:"text-3xl font-semibold mb-2",children:"Sample Website"}),g.jsx("p",{className:"text-lg",children:"This represents a potentially distracting website"})]})}),g.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,children:[g.jsx("div",{className:Q("absolute inset-0 z-0 bg-radial-[ellipse_80%_60%_at_50%_0%] from-primary to-transparent to-70% transition-colors duration-1000",r&&"from-orange-900/20")}),g.jsxs("div",{className:Q("relative space-y-8 w-full max-w-lg mx-auto flex flex-col items-center justify-center min-h-full px-4",r&&"animate-slide-out-up delay-1000"),children:[g.jsxs("div",{className:"flex justify-center relative animate-slide-in-up",children:[g.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-10.5",children:g.jsx(Eh,{className:Q("scale-35 scale-x-45",r?"animate-flame-ignition":"opacity-0 scale-0")})}),g.jsx("img",{src:Rl,alt:"Logo",className:Q("size-24 opacity-80 transition-all duration-500",r&&["rounded-full","bg-[radial-gradient(circle,color-mix(in_srgb,rgb(251,146,60)_15%,transparent)_60%,transparent_100%)]","shadow-[0_0_40px_10px_rgb(251,146,60),0_0_0_4px_color-mix(in_srgb,rgb(251,146,60)_8%,transparent)]","opacity-100"])})]}),r?g.jsxs("div",{className:"animate-slide-in-up text-center mt-6 max-w-prose px-4",children:[g.jsx("p",{className:"text-lg leading-relaxed break-words overflow-hidden font-medium text-orange-500/80",children:t.input}),g.jsx("p",{className:"text-sm text-primary-foreground/60 mt-2",children:"Your intention has been set"})]}):g.jsxs("div",{className:Q("relative w-full border-2 border-transparent rounded-xl animate-intention-glow","animate-slide-in-up delay-150"),children:[g.jsx("div",{className:"absolute top-0 flex w-full justify-center",children:g.jsx("div",{className:"h-[1px] animate-border-width rounded-full bg-gradient-to-r from-transparent via-orange-700 to-transparent transition-all duration-1000"})}),g.jsxs("div",{className:"relative",children:[g.jsx(Ul,{className:"absolute left-4 top-5.5 size-4 text-primary-foreground/60 z-10"}),n&&g.jsx(po,{className:"absolute right-4 top-4 size-4 text-primary-foreground/60 z-10 animate-spin"}),g.jsx("textarea",{value:t.input,onChange:l=>e(u=>({...u,input:l.target.value})),className:"w-full p-4 text-lg resize-none rounded-xl shadow-lg pl-10 pr-10 bg-primary-foreground/5 backdrop-blur-sm text-primary-foreground border border-primary-foreground/10 placeholder-primary-foreground/40 focus:border-primary-foreground/20 focus:outline-none min-h-[120px]",placeholder:"What is your intention for this site?",disabled:n,onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&s&&(l.preventDefault(),a())}})]})]})]})]})]})}function gg(){const[t,e]=_.useState(""),[s,n]=_.useState("idle"),[r,i]=_.useState(""),o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),a=s==="submitting",l=s==="success",u=s==="error",c=async h=>{if(h?.preventDefault(),!(!o||a)){n("submitting"),i("");try{const d=await Ah(t);d.success?(n("success"),e("")):(n("error"),i(d.error||"Something went wrong. Please try again."))}catch(d){console.error("Error submitting email:",d),n("error"),i("Something went wrong. Please try again.")}}};return l?g.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-primary/80 text-primary-foreground border border-primary-foreground/10 shadow-2xl",children:[g.jsx("div",{className:"absolute inset-0 bg-radial-[ellipse_80%_60%_at_50%_0%] from-primary to-transparent opacity-60"}),g.jsxs("div",{className:"relative flex items-center justify-center gap-3 px-5 py-4",children:[g.jsx(El,{size:22,className:"text-orange-400"}),g.jsx("span",{className:"text-base sm:text-lg font-medium",children:"Youre on the list! Well email you when Intent is live."})]})]}):g.jsxs("div",{className:"space-y-3",children:[g.jsxs("form",{onSubmit:c,className:Q("relative overflow-hidden rounded-2xl bg-primary-foreground/5 transition-all","shadow-lg hover:shadow-xl focus-within:shadow-2xl shadow-black/5 focus-within:shadow-black/10",u&&"ring-2 ring-red-500/20"),children:[g.jsx("div",{className:"absolute inset-0 bg-radial-[ellipse_120%_80%_at_50%_-10%] from-orange-500/10 to-transparent pointer-events-none"}),g.jsxs("div",{className:"relative flex flex-col sm:flex-row items-stretch sm:items-center gap-3 p-3 sm:p-4",children:[g.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Nl,{className:"pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 size-4 text-primary-foreground/40"}),g.jsx("input",{id:"email",type:"email",autoComplete:"email","aria-invalid":t.length>0&&!o,value:t,onChange:h=>{e(h.target.value),u&&(n("idle"),i(""))},placeholder:"you@example.com",className:Q("w-full rounded-xl bg-background text-foreground placeholder-primary-foreground/40","px-11 py-3 shadow-inner","focus:outline-none",t.length>0&&!o&&"ring-2 ring-red-500/20"),required:!0})]}),g.jsx("button",{type:"submit",disabled:!o||a,className:Q("inline-flex items-center justify-center rounded-xl px-5 py-3 font-semibold text-white bg-orange-500","hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-orange-500/30","min-w-[12rem]"),children:a?g.jsxs(g.Fragment,{children:[g.jsx(po,{className:"mr-2 size-4 animate-spin"})," Adding"]}):"Join the waitlist"})]})]}),u&&r&&g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("p",{className:"text-red-500 text-sm font-medium text-center",children:r})})]})}const Sg=function(){const e=_.useRef(null),s=_.useRef(null),n=()=>{if(console.log("[Intent] Get Extension button clicked"),typeof window>"u")return;const r=document.documentElement?.scrollHeight||document.body.scrollHeight;window.scrollTo({top:r,behavior:"smooth"})};return _.useEffect(()=>{const r=s.current;if(!r)return;const i=()=>{console.log("[Intent] Native listener: Get Extension click captured")};return r.addEventListener("click",i,!0),()=>{r.removeEventListener("click",i,!0)}},[]),g.jsxs("div",{className:"min-h-screen bg-background relative",children:[g.jsxs("div",{className:"fixed top-0 left-0 right-0 h-16 bg-background/80 backdrop-blur-md z-50 flex items-center justify-between px-8",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:"/logo.png",alt:"Intent logo",className:"size-7 rounded-lg"}),g.jsx("div",{className:"text-lg font-semibold text-primary",children:"Intent"})]}),g.jsxs("div",{className:"hidden sm:flex items-center gap-6 text-sm text-muted-foreground",children:[g.jsx("button",{className:"hover:text-primary transition-colors",children:"FAQs"}),g.jsx("button",{ref:s,onClickCapture:()=>console.log("[Intent] Header Get Extension onClickCapture"),onClick:n,className:"bg-orange-500 text-white px-4 py-2 font-medium shadow-sm shadow-orange-500/30 hover:bg-orange-600 active:scale-[100.5%] rounded-lg",children:"Get Extension"})]})]}),g.jsxs("div",{className:"fixed inset-0 -z-10",children:[g.jsx("div",{className:"absolute inset-0 bg-radial-[at_50%_90%] from-orange-500/[0.05] from-0% to-transparent to-65%"}),g.jsx("div",{className:"absolute inset-0 bg-radial-[at_50%_95%] from-orange-500/[0.04] from-0% to-transparent to-75%"}),g.jsx("div",{className:"absolute inset-0 bg-radial-[at_50%_100%] from-orange-500/[0.07] from-0% to-transparent to-85%"})]}),g.jsxs("div",{className:"pt-40 sm:pt-44 px-6 max-w-[1200px] mx-auto",children:[g.jsxs("h1",{className:"text-[48px] sm:text-[72px] lg:text-[112px] font-semibold text-primary leading-[0.9] tracking-tight mb-6",children:["Browse with",g.jsx("br",{}),g.jsxs("span",{className:"relative inline-block",children:[g.jsx("span",{className:"relative z-10 px-1",children:"intention"}),g.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-[45%] bg-linear-to-t from-orange-500/80 to-orange-500/60 -z-0"})]})]}),g.jsx("p",{className:"text-lg sm:text-2xl text-muted-foreground max-w-3xl",children:"Intent keeps you grounded by asking for your purpose before accessing any distracting website."}),g.jsx("div",{className:"mt-8 hidden",children:g.jsxs("button",{onClick:n,className:"group relative inline-flex items-center justify-center overflow-hidden bg-orange-500 text-white px-8 py-4 rounded-xl text-lg sm:text-xl font-semibold transition-all duration-500 hover:bg-orange-600 shadow-lg shadow-orange-500/30 hover:shadow-xl hover:shadow-orange-500/40",children:[g.jsx("span",{className:"transition-all duration-300 group-hover:-translate-x-40 group-hover:opacity-0",children:"Get Started"}),g.jsx("span",{className:"absolute inset-0 flex items-center justify-center transition-all duration-300 translate-x-40 opacity-0 group-hover:translate-x-0 group-hover:opacity-100",children:g.jsx("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})]})})]}),g.jsx("div",{className:"max-w-[1200px] mx-auto mb-24 px-6 mt-16 sm:mt-24",children:g.jsx(mg,{})}),g.jsx("div",{className:"max-w-[1200px] mx-auto px-6 pb-24",children:g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-10 gap-y-12 mt-12 sm:mt-16 justify-items-center",children:[g.jsx(us,{renderIcon:r=>g.jsx(Tl,{ref:r,size:56}),title:"Set your intention"}),g.jsx(us,{renderIcon:r=>g.jsx(Sl,{ref:r,size:56}),title:"Stay focused"}),g.jsx(us,{renderIcon:r=>g.jsx(Pl,{ref:r,size:56}),title:"Gentle reminders"}),g.jsx(us,{renderIcon:r=>g.jsx(Al,{ref:r,size:56}),title:"Build better habits"})]})}),g.jsxs("div",{ref:e,className:"text-center py-20 px-6",children:[g.jsxs("p",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-primary max-w-3xl mx-auto",children:["Were putting the finishing touches on Intent to meet the latest Chrome Web Store requirements.",g.jsx("span",{className:"block mt-2 text-muted-foreground font-normal text-lg sm:text-xl",children:"Get notified as soon as were live again."})]}),g.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:g.jsx(gg,{})}),g.jsx("div",{className:"w-3/5 h-px bg-linear-to-r from-transparent via-orange-500/20 to-transparent mx-auto my-10"}),g.jsx("div",{className:"text-muted-foreground text-sm pb-10",children:" 2025 Intent. All rights reserved."})]})]})};export{Sg as component};
